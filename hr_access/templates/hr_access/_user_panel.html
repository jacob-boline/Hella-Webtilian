{# hr_access/_user_panel.html #}

<div class="user-panel">

    <button
        id="cart-button"
        hx-get="{% url 'hr_shop:view_cart' %}"
        hx-target="#modal-content"
        hx-swap="innerHTML"
{#        onclick="document.getElementById('modal').classList.remove('hidden')"#}
        class="cart-btn">
        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
        <span class="cart-label">View Cart</span>
        <span id="cart-count" class="cart-count-badge">0</span>
    </button>


    <div class="user-info">
        <strong>{{ request.user.username }}</strong>
        <div class="small">{{ request.user.email }}</div>
    </div>

    <hr>

    <!-- Account settings (modal) -->
    <button
        hx-get="{% url 'hr_access:password_change' %}"
        hx-target="#modal-content"
        hx-swap="innerHTML"
{#        onclick="document.getElementById('modal').classList.remove('hidden')"#}
        class="sidebar-btn"
    >
        Account Settings
    </button>

    <!-- Orders -->
    <button
        hx-get="{% url 'hr_access:orders' %}"
        hx-target="#modal-content"
        hx-swap="innerHTML"
{#        onclick="document.getElementById('modal').classList.remove('hidden')"#}
        class="sidebar-btn">
        Orders
    </button>

    <!-- Password Change -->
    <button
        hx-get="{% url 'hr_access:password_change' %}"
        hx-target="#modal-content"
        hx-swap="innerHTML"
{#        onclick="document.getElementById('modal').classList.remove('hidden')"#}
        class="sidebar-btn"
    >
        Change Password
    </button>

    <hr>

    <!-- Logout -->
    <button
        hx-post="{% url 'hr_access:logout' %}"
        hx-target="#sidebar-access"
        hx-swap="innerHTML"
        class="sidebar-btn"
    >
        Log out
    </button>

</div>
