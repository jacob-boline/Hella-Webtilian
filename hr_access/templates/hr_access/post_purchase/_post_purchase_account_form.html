{# hr_access/templates/hr_access/post_purchase/_post_purchase_account_form.html #}

{% load form_group %}

<div id="post-purchase-account" class="post-purchase-account modal-content">
    <div class="modal-scroll">
        <div class="flex-col-center">
            <h3 class="modal-title">Create your account</h3>
            <p class="text-muted">
                Your purchase will be listed under Orders in your new account.
            </p>

        <form method="post"
              class="form"
              hx-post="{% url 'hr_access:account_submit_post_purchase_create_account' order.id %}"
              hx-target="#modal-content"
              hx-swap="innerHTML transition:true">

            {% csrf_token %}

            {% include 'hr_common/_non_field_errors.html' %}

            {# Keep email in the form for validation plumbing, but donâ€™t render it as an input. #}
            {% if form.email %}
                {{ form.email.as_hidden }}
            {% endif %}

            {% form_group form.username label='Username' %}
            {% form_group form.password label='Password' %}

            <div class="modal-actions inline uniform grid grid-cols-1 md:grid-cols-2">
                <button type="submit" class="card-btn btn-neon btn-green btn-small">
                    Create Account
                </button>
                <button type="button" class="card-btn btn-neon btn-blue btn-small" data-modal-close>
                    Not now
                </button>
            </div>
            </form>
        </div>
    </div>
</div>
