{# hr_access/templates/hr_access/claim/_claim_modal.html #}

{% load form_fields %}

<div class="auth-modal checkout-details-modal">
    <h2 class="sub-header">Claim Guest Orders</h2>

    {% if error %}
        <div class="form-errors">
        <p>{{ error }}</p>
        </div>
    {% endif %}

    <p class="checkout-message">
        Have orders placed as a guest? Enter the email you used at checkout and we'll send you a verification link to connect those orders to your account.
    </p>

    <form
        id="claim-form"
        method="post"
        action="{% url 'hr_access:claim_start' %}"
        hx-post="{% url 'hr_access:claim_start' %}"
        hx-target="#modal-content"
        hx-swap="innerHTML"
        novalidate>

        {% csrf_token %}
        {% form_field form.email label="Email used at checkout" placeholder="hella@reptilian.com" %}

        <div class="modal-actions">
            <button type="submit" class="card-btn buy-cyan">
                Send Verification Link
            </button>
            <button type="button" class="card-btn outline" data-modal-close>
                Cancel
            </button>
        </div>
    </form>

</div>
