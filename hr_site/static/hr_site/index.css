/* ---------- Tailwind pipeline (keep if you use Tailwind elsewhere) ---------- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Fonts ---------- */
@font-face {
    font-family:  "Bungee Hairline";
    src:          url("./fonts/BungeeHairline-Regular.ttf") format("truetype");
    font-display: swap;
}

@font-face {
    font-family:  "Megrim";
    src:          url("./fonts/Megrim-Regular.ttf") format("truetype");
    font-display: swap;
}

@font-face {
    font-family:  "Quantico";
    src:          url("./fonts/Quantico-Regular.ttf") format("truetype"),
                  url("./fonts/Quantico-Bold.ttf") format("truetype"),
                  url("./fonts/Quantico-Italic.ttf") format("truetype"),
                  url("./fonts/Quantico-BoldItalic.ttf") format("truetype");
    font-display: swap;
}

@font-face {
    font-family:  "KARNIVBL";
    src:          url("./fonts/KARNIVBL.ttf") format("truetype");
    font-display: swap;
}

@font-face {
    font-family:  "Tilt Prism";
    src:          url("./fonts/TiltPrism-Regular.ttf") format("truetype");
    font-display: swap;
}

@font-face {
    font-family:  "Exo 2";
    src:          url("./fonts/Exo2-VariableFont_wght.ttf") format("truetype");
    font-display: swap;
}

/* ---------- Root tokens ---------- */
:root {
    --bg-dark:                #1E1E1E;
    --card-bg-start:          #2A2A2A;
    --card-bg-end:            #1B1B1B;
    --accent:                 #FA0;
    --glow:                   #FD6;
    --neon-color:             #FF00F7; /* hover color */
    --neon-duration:          6.5s; /* full cycle length */

    /* wipe edge tuning */
    --edge-fade:              15%;
    --wipe-edge-fade-outside: 15vh;
    --wipe-edge-fade-inside:  10vh;

    /* Viewport height shim (kept in sync by JS) */
    --vh:                     1vh;
    --pad-inline:             clamp(1rem, 6vw, 3rem);

    --q-clear:                clamp(4rem, calc(var(--vh) * 8), 10rem);
    --q-rise-frac:            -0.28;
    --q-rise:                 calc(var(--q-clear) * var(--q-rise-frac));
    /*--q-rise:                 clamp(-1.5rem, -3vh, -3rem);*/
    /*--q-bridge-frac:          .34;*/
    /*--q-rot-frac:             .24;*/
}

/* ---------- Base ---------- */
* {
    margin:  0;
    padding: 0;
}

body {
    background-color: var(--bg-dark);
    font-family:      "Space Grotesk", sans-serif;
    color:            #F0F0F0;
}

/*@layer utilities {*/
/*  .min-h-vhfix { min-height: calc(var(--vh) * 100); }*/
/*  .py-vh-18    { padding-block: calc(var(--vh) * 18); } !* optional helper if you want *!*/
/*}*/

div#parallax-wrapper {
    position:    relative;
    align-items: center;
    text-align:  center;
}

/* ---------- Parallax sections ---------- */
.parallax-section {
    position: relative;
    overflow: hidden;
    height:   auto;
    padding:  0;
    min-height: calc(var(--vh) * 100);
}

/* Use --vh so resize doesn’t desync math */
.parallax-background {
    position:            absolute;
    top:                 0;
    left:                0;
    width:               100%;
    min-height:          calc(var(--vh) * 100);
    background-size:     cover;
    background-position: center;
    will-change:         transform;
    transform:           translate3d(0, 0, 0);
}

div.parallax-content p {
    position: relative !important;
    color:    #FFF !important;
    z-index:  10 !important;
}

/* Section wipes + outward/inward fades */
.section-wipe {
    position:            absolute;
    left:                0;
    inset-inline:        0;
    z-index:             20;
    width:               100%;
    min-width:           100%;
    max-width:           100%;
    height:              calc(var(--vh) * 60);
    background-size:     cover;
    background-position: center;
    transform:           translate3d(0, 0, 0);
    pointer-events:      none;
    will-change:         transform;
}

/* Progressive enhancement: prefer svh when supported */
@supports (height: 1vh) {
    .parallax-background {
        min-height: calc(var(--vh) * 100);
    }

    .section-wipe {
        height: calc(var(--vh) * 60);
    }
}

/* ---------- Banner + letters ---------- */
nav.navbar {
    position: fixed;
}

#banner {
    top:        0;
    width:      100%;
    height:     calc(var(--vh) * 10);
    padding:    0 5vw;
    background: #000;
    color:      darkorange;
    transition: all 3s ease;
    text-align: left; /* (banner visibility is managed by JS) */
}

.banner-letter {
    @apply opacity-0 transition-opacity duration-500;
    display:     inline-block;
    font-size:   6vmin; /* 6vh */
    color:       darkorange;
    font-family: "KARNIVBL", display, serif;
    transition:  color .5s ease, opacity .5s ease-out;
}

.banner-letter.blink {
    @apply opacity-100;
}

.banner-letter.burn {
    animation: letter-glow 1.25s ease both;
}

.banner-letter:hover {
    color:       cyan;
    text-shadow: 0 0 1rem #FFF;
    transition:  all .25s ease;
}

.banner-letter.is-visible {
    @apply opacity-100;
}

.banner-letter.is-fading {
    opacity:    0;
    transition: opacity 2.5s ease;
}

@keyframes letter-glow {
    0% {
        opacity:     0;
        text-shadow: 0 0 1px rgba(255, 255, 255, .1);
    }
    66% {
        opacity:     1;
        text-shadow: 0 0 .75rem rgba(255, 255, 255, .9);
    }
    77% {
        opacity: 1;
    }
    100% {
        opacity:     .5;
        text-shadow: 0 0 .75rem rgba(255, 255, 255, 0);
    }
}

#banner .row, #banner .row .banner-row {
    height: calc(var(--vh) * 6);
}

.banner-row:nth-of-type(2) {
    background-color: transparent;
}

#banner-scroller {
    height:     calc(var(--vh) * 180);
    width:      100%;
    background: #000;
}

@keyframes blinker {
    50% {
        opacity: 0;
    }
}

.blink {
    animation: blinker 2.5s ease-in-out infinite;
    display:   inline-block;
}

/* ---------- Drawer ---------- */
#nav-audio {
    background-color: transparent;
    right:            1rem;
    top:              1rem;
    transition:       all 2s ease-in-out;
}

#audio-iframe {
    border: 0;
    width:  auto;
    height: 48px;
}

.text-left button {
    top:        1.5rem;
    left:       1.5rem;
    transition: opacity .25s ease;
}

#drawer-navigation {
    background-color: rgba(255, 255, 255, .2);
    border-right:     1pt solid rgba(255, 255, 255, .7);
    transition:       transform .25s ease-in-out;
    transform:        translateX(-100%);
    color:            transparent;
    top:              0;
    left:             0;
    width:            216px;
    height:           calc(var(--vh) * 100);
    padding:          1.5rem;
    display:          flex;
    flex-direction:   column;
    align-items:      flex-start;
}

#drawer-navigation.show {
    transform: translateX(0);
}

#banner {
    transition: opacity .25s ease;
}

#drawer-navigation button, #open-nav {
    background:    transparent;
    color:         #FFF;
    border:        none;
    margin-top:    1.5rem;
    padding:       1.5rem;
    font-size:     1.25rem;
    border-radius: 50%;
    transition:    background-color .25s, color .25s;
    margin-bottom: 1rem;
}

#drawer-navigation button:hover {
    background-color: rgba(128, 128, 128, .3);
    color:            aquamarine;
}

#drawer-navigation button svg {
    fill: #FFF;
}

#audio-iframe {
    width:      100%;
    height:     200px;
    border:     none;
    margin-top: 1rem;
}

@media (prefers-color-scheme: dark) {
    #drawer-navigation button {
        color: #FFF;
    }

    #drawer-navigation button:hover {
        background-color: rgba(128, 128, 128, .3);
    }
}

#parallax-section-1 .parallax-background {
    background-image: url("/static/hr_site/img/parallax_bg_1.jpg");
}

#section-wipe-1.section-wipe {
    background-image: url("/static/hr_site/mid/sci_fi_fork_in_road.jpg");
}

#parallax-section-2 .parallax-background {
    background-image: url("/static/hr_site/img/parallax_bg_2-4.png");
}

#section-wipe-2.section-wipe {
    background-image: url("/static/hr_site/img/section-wipe/vimal-s-1F-dLqrnn-E-unsplash.jpg");
}

#parallax-section-3 .parallax-background {
    background-image: url("/static/hr_site/img/parallax-bg-3.png");
}

.concert-card-container {
    display:         flex;
    flex-direction:  column;
    align-items:     center;
    justify-content: center;
    gap:             6rem;
    padding:         2rem;
    width:           80vw;
    min-width:       400px;
}

@media (max-width: 600px) {
    .concert-card-container {
        gap:       2rem;
        padding:   1rem 1rem 3rem;
        width:     92vw;
        min-width: 0;
    }
}

.concert-card {
    font-family:     "Megrim", cursive;
    display:         flex;
    flex-wrap:       wrap;
    align-items:     center;
    justify-content: space-between;
    background:      linear-gradient(145deg, #2A2A2A, #1B1B1B);
    border-radius:   .75rem;
    color:           #F0F0F0;
    box-shadow:      8px 8px 16px #131313, -8px -8px 16px #2F2F2F;
    padding:         1.5rem;
    max-width:       clamp(320px, 92vw, 1600px);
    width:           100%;
    margin:          0 auto;
    gap:             1rem;
}

.card-center {
    display:        flex;
    flex-direction: column;
    align-items:    center;
    gap:            .5rem;
}

.card-left, .card-right, .card-center {
    flex: 1 1 280px;
}

.card-left {
    font-size:   1.5rem;
    font-weight: bold;
}

.card-left, .card-right {
    display:         flex;
    justify-content: center;
    align-items:     center;
    gap:             1.5rem;
}

.card-left * {
    margin: 0;
}

.card-left .date, .card-left .time, .card-right a {
    display:     inline-flex;
    white-space: nowrap;
}

@media (max-width: 600px) {
    .card-left, .card-right {
        flex-direction: column;
        gap:            1rem;
    }
}

@media (min-width: 768px) {
    .card-left {
        font-size: 1.5rem;
    }
}

@media (min-width: 1024px) {
    .card-left {
        font-size: 2rem;
    }
}

@media (max-width: 900px) {
    .concert-card {
        flex-direction:  column;
        justify-content: flex-start;
        row-gap:         1rem;
        padding:         1rem 1rem 1.5rem;
    }

    .card-left, .card-right, .card-center {
        flex:  0 1 auto;
        width: 100%;
    }

    .card-center {
        max-width:     24ch;
        margin-inline: auto;
    }

    .card-right {
        display:               grid;
        grid-template-columns: 1fr 1fr;
        gap:                   .75rem;
        width:                 100%;
        margin-top:            1rem;
        justify-content:       stretch;
    }
}

@media (max-width: 600px) {
    .concert-card {
        height:     auto;
        max-height: none;
        padding:    1rem;
        gap:        .5rem;
    }

    .card-left,
    .card-center,
    .card-right {
        flex:  unset;
        width: 100%;
    }
}

.date-time {
    font-family:   "Quantico", sans-serif;
    display:       inline-flex;
    align-items:   center;
    gap:           .75rem;
    background:    linear-gradient(145deg, #2A2A2A, #1B1B1B);
    padding:       .5rem 1rem;
    border-radius: .75rem;
    box-shadow:    .25rem .25rem .5rem #131313, -.25rem -.25rem .5rem #2F2F2F;
    line-height:   1;
}

.acts {
    display:        flex;
    flex-direction: column;
    align-items:    center;
    gap:            .75rem;
}

.letter {
    display:     inline-block;
    color:       inherit;
    text-shadow: 1px 1px 0 #111, -1px -1px 0 #333;
}

.card-button-container {
    display:       inline-flex;
    align-items:   center;
    gap:           .75rem;
    background:    linear-gradient(145deg, #2A2A2A, #1B1B1B);
    padding:       .5rem 1rem;
    border-radius: .75rem;
    box-shadow:    .25rem .25rem .5rem #131313, -.25rem -.25rem .5rem #2F2F2F;
}

.card-button:not(.outline):not(.buy-cyan) {
    font-size:       1.75rem;
    font-weight:     bold;
    font-family:     "Bungee Hairline", sans-serif;
    display:         flex;
    align-items:     center;
    gap:             .75rem;
    padding:         .5rem 1rem;
    border-radius:   .75rem;
    text-decoration: none;
    color:           #BFBFBF;
    background:      linear-gradient(145deg, #2A2A2A, #1B1B1B);
    box-shadow:      .25rem .25rem .5rem #131313, -.25rem -.25rem .5rem #2F2F2F;
    transition:      all .25s ease;
}

.card-button:not(.outline):not(.buy-cyan):hover {
    transform:   translateY(-2px);
    background:  linear-gradient(145deg, #2F2F2F, #1C1C1C);
    box-shadow:  .25rem .25rem .75rem #131313, -.25rem -.25rem .75rem #2F2F2F;
    color:       #F5F5F5;
    text-shadow: 0 0 .25rem rgba(255, 255, 255, .6), 0 0 .5rem rgba(255, 255, 255, .4), 0 0 .75rem rgba(200, 200, 255, .4);
}

.card-button:not(.outline):not(.buy-cyan):active {
    transform:   translateY(1px);
    background:  linear-gradient(145deg, #262626, #1A1A1A);
    box-shadow:  inset .25rem .25rem .5rem #131313, inset -.25rem -.25rem .5rem #2F2F2F;
    text-shadow: none;
    color:       #E0E0E0;
}

.act-name {
    font-size:   2rem;
    font-weight: bold;
    color:       #9D00FF;
    text-shadow: 0 0 4px rgba(255, 255, 255, .4),
                 0 0 12px rgba(255, 255, 255, .3);
    will-change: filter, opacity, text-shadow, transform;
    transition:  transform .125s ease,
                 color .125s ease,
                 text-shadow .125s ease;
}

.act-name:hover {
    color:       var(--neon-color);
    text-shadow: 0 0 .25rem currentColor,
                 0 0 .5rem rgba(255, 255, 255, 0.8),
                 0 0 1rem currentColor,
                 0 0 2rem currentColor,
                 0 0 4rem currentColor,
                 0 0 8rem currentColor;
    transform:   scale(1.0625);
    animation:   neon-sequence var(--neon-duration) infinite alternate;
}

/* Sequence A–D */
@keyframes neon-sequence {
    0% {
        opacity:     1;
        filter:      brightness(1.25);
        text-shadow: 0 0 5px currentColor, 0 0 15px currentColor, 0 0 30px currentColor, 0 0 60px currentColor, 0 0 120px currentColor;
    }
    6% {
        opacity:     .64;
        filter:      brightness(.75);
        text-shadow: 0 0 3px currentColor, 0 0 10px currentColor;
    }
    8% {
        opacity: 1;
        filter:  brightness(1.25);
    }
    10% {
        opacity:     .64;
        filter:      brightness(.75);
        text-shadow: 0 0 4px currentColor, 0 0 12px currentColor;
    }
    12% {
        opacity: 1;
        filter:  brightness(1.2);
    }
    15% {
        opacity: .6;
        filter:  brightness(.7);
    }
    20% {
        opacity: 1;
        filter:  brightness(1.2);
    }
    22% {
        opacity:     .6;
        filter:      brightness(.7);
        text-shadow: 0 0 3px currentColor, 0 0 10px currentColor;
    }
    24% {
        opacity:     1;
        filter:      brightness(1.2);
        text-shadow: 0 0 5px currentColor, 0 0 15px currentColor, 0 0 30px currentColor, 0 0 60px currentColor, 0 0 120px currentColor;
    }
    27% {
        opacity:     .6;
        filter:      brightness(.7);
        text-shadow: 0 0 3px currentColor, 0 0 10px currentColor;
    }
    28% {
        opacity: 1;
        filter:  brightness(1.2);
    }
    30% {
        opacity: .55;
        filter:  brightness(.7);
    }
    32% {
        opacity: 1;
        filter:  brightness(1.25);
    }
    35% {
        opacity: .6;
        filter:  brightness(.75);
    }
    36% {
        opacity: 1;
        filter:  brightness(1.25);
    }
    40% {
        opacity: .6;
        filter:  brightness(.75);
    }
    46% {
        opacity: 1;
        filter:  brightness(1.25);
    }
    60% {
        opacity: 1;
        filter:  brightness(1.35);
    }
    61% {
        opacity: .92;
        filter:  brightness(1.15);
    }
    62% {
        opacity: 1;
        filter:  brightness(1.35);
    }
    70% {
        opacity: .95;
        filter:  brightness(1.15);
    }
    71% {
        opacity: 1;
        filter:  brightness(1.35);
    }
    77% {
        opacity: .92;
        filter:  brightness(1.20);
    }
    78% {
        opacity: 1;
        filter:  brightness(1.25);
    }
    80% {
        opacity: .6;
        filter:  brightness(.75);
    }
    82% {
        opacity: 1;
        filter:  brightness(1.25);
    }
    88% {
        opacity: .6;
        filter:  brightness(.75);
    }
    90% {
        opacity: 1;
        filter:  brightness(1.25);
    }
    96% {
        opacity: .6;
        filter:  brightness(.75);
    }
    100% {
        opacity: 1;
        filter:  brightness(1.25);
    }
}

/* Section 1 title pulse */
#parallax-section-1 h1,
#parallax-section-2 h1,
#parallax-section-3 h1 {
    font-family:    "Exo 2", sans-serif;
    font-size:      clamp(3rem, 5vmin, 4rem);
    color:          #F5F5F5;
    text-transform: uppercase;
    letter-spacing: .25em;
    text-shadow:    0 0 4px rgba(255, 255, 255, .6),
                    0 0 16px rgba(255, 255, 255, .4),
                    0 0 24px rgba(200, 200, 255, .4);
    animation:      pulse-glow 2.5s infinite ease-in-out;
    margin:         0 0 .75rem;
    line-height:    1.125;
    text-align:     center;
    font-weight:    700;
}

@keyframes pulse-glow {
    0%, 100% {
        text-shadow: 0 0 .25rem rgba(255, 255, 255, .6),
                     0 0 .75rem rgba(255, 255, 255, .4),
                     0 0 1.5rem rgba(200, 200, 255, .4);
    }
    50% {
        text-shadow: 0 0 .75rem rgba(255, 255, 255, .8),
                     0 0 1.5rem rgba(255, 255, 255, .6),
                     0 0 3rem rgba(200, 200, 255, .6);
    }
}

/* Engraved chars */
.date-char, .time-char, .btn-char {
    font-family: "Bungee Hairline", sans-serif;
    display:     inline-block;
    color:       #BFBFBF;
    text-shadow: -4px -4px 4px rgba(0, 0, 0, .9),
                 1px 1px 2px rgba(255, 255, 255, .25);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .parallax-background, .section-wipe {
        transform:  none !important;
        transition: none !important;
        animation:  none !important;
    }

    .act-name:hover {
        animation: none;
    }
}

/* ========================================================================== */
/*                                VANILLA UTILS                               */
/* ========================================================================== */
.text-center {
    text-align: center;
}

.parallax-content {
    position: relative;
    z-index:  10;
    min-height: calc(var(--vh) * 100);
    padding-top: calc(var(--vh) * 18);
    padding-bottom: calc(var(--vh) * 18);
}

.content-narrow {
    max-width:      64rem;
    margin-inline:  auto;
    padding-inline: clamp(16px, 5vw, 24px);
    padding-block:  min(calc(var(--vh) * 16), 12rem);
}

.content-wide {
    max-width:      72rem;
    margin-inline:  auto;
    padding-inline: clamp(1rem, 6vw, 2rem);
    padding-block:  min(calc(var(--vh) * 16), 12rem);
}

/* Soft panel used in Section 2 */
.panel-soft {
    background:    rgba(255, 255, 255, .80);
    color:         #111;
    border-radius: .75rem;
    box-shadow:    .5rem .5rem 1.5rem rgba(0, 0, 0, .35);
}

/* Title style used in Section 2/3 */
.section-title {
    font-family:    "Exo 2", sans-serif;
    font-weight:    700;
    font-size:      clamp(2rem, 4.5vmin, 3rem);
    letter-spacing: .02em;
    margin:         0;
    text-shadow:    0 0 .25rem rgba(255, 255, 255, .35);
}

/* ========================================================================== */
/*                             STORE / MERCH STYLES                            */
/* ========================================================================== */
.merch-section {
    --accent-neon:      #39FF14;
    --accent-neon-glow: rgba(57, 255, 20, .55);
}

.merch-grid {
    display:               grid;
    grid-template-columns: 1fr;
    gap:                   1rem;
    padding-inline:        clamp(16px, 6vw, 32px);
    padding:               2rem;
}

@media (min-width: 640px) {
    .merch-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap:                   .75rem;
        padding-inline:        clamp(1.5rem, 6vw, 2rem);
    }
}

@media (min-width: 1024px) {
    .merch-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap:                   1.5rem;
        padding-inline:        clamp(2rem, 6vw, 3rem);
    }
}

@media (min-width: 1200px) {
    .merch-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap:                   1.5rem;
        padding-inline:        clamp(3rem, 6vw, 4rem);
    }
}

.merch-card {
    border-radius: .75rem;
    background:    linear-gradient(
                           145deg,
                           rgba(14, 22, 16, 0.75),
                           rgba(4, 6, 8, 0.92)
                   );
    box-shadow:    0 0 2rem rgba(0, 0, 0, 0.75),
                   0 0 1.5rem rgba(0, 255, 180, 0.08),
                   inset 0 0 .75rem rgba(0, 255, 120, 0.04);
    color:         #F0F0F0;
    padding:       1.5rem;
    transition:    box-shadow .5s ease, transform .25s ease;
}

.merch-img {
    position:      relative;
    width:         100%;
    aspect-ratio:  1/1;
    overflow:      hidden;
    border-radius: .75rem;
    background:    #111;
    border:        1px solid rgba(255, 255, 255, .08);
    cursor:        pointer;
}

.merch-img img {
    width:      100%;
    height:     100%;
    object-fit: cover;
    transition: transform .5s ease;
}

.merch-img:hover img {
    transform: scale(1.0625);
}

.merch-img:focus-visible {
    outline:       2px solid var(--accent-neon);
    box-shadow:    0 0 0 .25rem rgba(57, 255, 20, .25);
    border-radius: .75rem;
}

.merch-meta {
    display:         flex;
    align-items:     center;
    justify-content: space-between;
    gap:             .75rem;
    padding:         .75rem .75rem 0;
}

.merch-title,
.merch-price {
    font-family: "Megrim", cursive;
    font-size:   1.5rem;
    color:       #C6FFD0;
    text-shadow: 0 0 .5rem rgba(57, 255, 20, .22);
}

.merch-price {
    font-weight: bold;
}

.merch-actions {
    display:               grid;
    grid-template-columns: 1fr 1fr;
    gap:                   .75rem;
    margin-top:            .75rem;
}

.card-button {
    display:         inline-flex;
    align-items:     center;
    justify-content: center;
    gap:             .5rem;
}

.card-button i {
    margin-right: .5rem;
}

/* CYAN variant (DETAILS) */
.card-button.outline {
    --btn-fill1:            #00F2FE;
    --btn-fill2:            #00D4FF;
    --btn-text:             #06171A;
    --btn-ring:             rgba(0, 245, 255, .55);
    --btn-ring-strong:      rgba(0, 245, 255, .65);
    --btn-glow-outer-base:  rgba(0, 245, 255, .35);
    --btn-glow-outer-hover: rgba(0, 245, 255, .45);
    --btn-hover-text:       #9AFAFF;
    --btn-focus-glow:       rgba(0, 245, 255, .30);
    --btn-icon-glow:        #00D4FF;
}

/* LIME variant (BUY) — brighter border + equal outer glow */
.card-button.buy-cyan {
    --btn-fill1:            #B8FF5E;
    --btn-fill2:            #39FF14;
    --btn-text:             #000;
    --btn-ring:             rgba(102, 255, 51, .55);
    --btn-ring-strong:      rgba(102, 255, 51, .85);
    --btn-glow-outer-base:  rgba(57, 255, 20, .35);
    --btn-glow-outer-hover: rgba(57, 255, 20, .45);
    --btn-hover-text:       #EAFFEA;
    --btn-focus-glow:       rgba(57, 255, 20, .35);
    --btn-icon-glow:        #39FF14;
}

.card-button.outline,
.card-button.buy-cyan {
    position:        relative;
    color:           var(--btn-text);
    background:      linear-gradient(180deg, var(--btn-fill1), var(--btn-fill2));
    border:          1px solid #000;
    background-clip: padding-box;
    padding:         .5rem 1rem;
    border-radius:   .75rem;
    font-family:     "Quantico", sans-serif;
    font-weight:     700;
    text-transform:  uppercase;
    letter-spacing:  .125rem;
    text-align:      center;
    transition:      transform .125s ease,
                     filter .125s ease,
                     box-shadow .125s ease,
                     background .125s ease,
                     color .125s ease;
    box-shadow:      0 0 1rem var(--btn-glow-outer-base),
                     4px 4px 8px #131313,
                     -4px -4px 8px #2F2F2F,
                     inset 0 -2px 0 rgba(0, 0, 0, .25);
}

.card-button.outline::after,
.card-button.buy-cyan::after {
    content:        "";
    position:       absolute;
    inset:          0;
    border-radius:  inherit;
    pointer-events: none;
    box-shadow:     inset 0 0 0 2px var(--btn-ring);
    transition:     box-shadow .125s ease;
}

.card-button.outline:hover,
.card-button.buy-cyan:hover {
    background:   rgba(0, 0, 0, .72);
    color:        var(--btn-hover-text);
    border-color: var(--btn-ring-strong);
    text-shadow:  0 0 8px #FFF,
                  0 0 16px var(--btn-icon-glow);
    transform:    translateY(-2px);
    box-shadow:   inset 4px 4px 8px #131313,
                  inset -4px -4px 8px #2F2F2F,
                  0 0 24px var(--btn-glow-outer-hover),
                  4px 4px 16px #131313,
                  -4px -4px 16px #2F2F2F;
}

.card-button.outline:hover::after,
.card-button.buy-cyan:hover::after {
    box-shadow: inset 0 0 0 2px var(--btn-ring-strong);
}

.card-button.outline:active,
.card-button.buy-cyan:active {
    transform:  translateY(0);
    box-shadow: inset 4px 4px 8px #131313,
                inset -4px -4px 8px #2F2F2F;
}

.card-button.outline:focus-visible,
.card-button.buy-cyan:focus-visible {
    outline:    none;
    box-shadow: 0 0 0 4px rgba(255, 255, 255, .20),
                0 0 0 8px var(--btn-focus-glow);
}

#parallax-section-3 {
    display:        flex;
    flex-direction: column;
    align-items:    center;
}

.about {
    width:          100%;
    max-width:      none;
    margin-inline:  auto;
    padding-inline: 0;
    box-sizing:     border-box;
}

/* Glassy card with subtle blur and edge */
.about-card {
    --card-bg:           rgba(8, 8, 8, .55);
    --card-border:       rgba(255, 255, 255, .12);
    --card-shadow:       0 16px 32px rgba(0, 0, 0, .45);
    width:               80vw;
    max-width:           none;
    margin-inline:       auto;
    background:          linear-gradient(180deg, rgba(20, 20, 20, .55), var(--card-bg));
    outline:             none;
    border:              1px solid var(--card-border);
    border-bottom-color: transparent;
    border-radius:       16px 16px 0 0;
    backdrop-filter:     saturate(1.25) blur(8px);
    margin-top:          2rem;
    display:             flex;
    flex-direction:      column;
    align-items:         center;
    text-align:          center;
}

.about-card,
.about-card p,
.about-card .about-quote {
    color:       #F5F5F5;
    text-shadow: 0 2px 2px rgba(0, 0, 0, .45);
    text-align:  center;
}

#parallax-section-3 .about-intro {
    margin:        0;
    text-align:    center;
    max-width:     72rem;
    margin-inline: auto;
}

#parallax-section-3 .about-intro p {
    max-width:      min(72ch, 92%);
    margin:         1.5rem auto 3rem;
    font-size:      clamp(1.5rem, 2.5vmin, 2rem);
    line-height:    1.5;
    opacity:        .92;
    position:       relative;
    padding-bottom: 0;
    font-family:    "zai AEG Mignon Typewriter 1924", sans-serif;
    font-weight:    300;
    letter-spacing: 0.01em;
}

#parallax-section-3 .about-intro p::after {
    content:    "";
    position:   absolute;
    left:       50%;
    transform:  translate(-50%, 1.25rem);
    bottom:     0;
    width:      min(72rem, 92%);
    height:     1px;
    background: linear-gradient(
                        90deg,
                        transparent,
                        rgba(255, 255, 255, .22),
                        rgba(255, 255, 255, .32),
                        rgba(255, 255, 255, .22),
                        transparent
                );
    box-shadow: 0 2px 0 rgba(0, 0, 0, .45);
    opacity:    .92;
}

#parallax-section-3 .about-gallery {
    margin-top: 0;
}

/* ===== Carousel ===== */
.about-gallery {
    width:               80vw;
    max-width:           80vw;
    margin-inline:       auto;
    justify-items:       center;
    display:             grid;
    gap:                 0.5rem;
    grid-template-areas: "stage" "caption" "thumbs";
}

.about-stage {
    grid-area:     stage;
    position:      relative;
    aspect-ratio:  16 / 9;
    overflow:      hidden;
    /*border-radius: .75rem;*/
    box-shadow:    8px 8px 24px rgba(0, 0, 0, .35);
    background:    #0B0B0B;
    width:         80vw;
    height:        auto;
}

.about-stage-img {
    width:      100%;
    height:     100%;
    object-fit: cover;
    display:    block;
    transform:  translateZ(0);
}

.about-caption {
    width:           100%;
    grid-area:       caption;
    min-height:      clamp(2rem, 6vh, 4rem);
    display:         inline-flex;
    align-items:     center;
    justify-content: center;
    gap:             .5rem;
    margin-top:      .5rem;
    place-items:     center;
}

.about-caption .about-quote {
    margin:      0;
    max-width:   64ch;
    font-family: "Exo 2", sans-serif;
    text-align:  center;
    font-size:   clamp(1rem, 1.5vmin, 1.5rem);
    opacity:     .92;
}

/* Optional: quote overlay mode — add .quote-overlay to #about-carousel to switch */
#about-carousel.quote-overlay {
    position: relative;
}

#about-carousel.quote-overlay .about-caption {
    position:        absolute;
    inset:           0;
    min-height:      0;
    pointer-events:  none;
    display:         flex;
    align-items:     flex-end;
    justify-content: center;
    padding:         clamp(.5rem, 2vmin, 1rem);
    background:      none;
}

#about-carousel.quote-overlay .about-quote {
    width:         80vw;
    padding:       .5rem 0;
    border-radius: .75rem;
    font-size:     clamp(1rem, 1.5vmin, 1.5rem);
    text-align:    left;
    background:    linear-gradient(
                           180deg,
                           rgba(0, 0, 0, .05),
                           rgba(0, 0, 0, .55) 48%,
                           rgba(0, 0, 0, .80)
                   );
    outline:       1px solid rgba(255, 255, 255, .18);
    box-shadow:    0 16px 32px rgba(0, 0, 0, .45);
}

/* END OPTIONAL Quote Overlap */

/* arrows */
.about-gallery figure.about-stage button.about-nav {
    position:      absolute;
    top:           50%;
    transform:     translateY(-50%);
    width:         3rem;
    height:        3rem;
    border-radius: 999px;
    border:        1px solid rgba(255, 255, 255, .25);
    background:    rgba(0, 0, 0, .45);
    color:         #FFF;
    font-size:     1.5rem;
    line-height:   0;
    display:       grid;
    place-items:   center;
    cursor:        pointer;
    transition:    background .125s ease, transform .125s ease;
    z-index:       2;
}

.about-gallery figure.about-stage button.about-nav:hover {
    background: rgba(255, 255, 255, .25);
    transform:  translateY(-50%) scale(1.0625);
}

.about-gallery .about-nav.prev {
    left: .5rem;
}

.about-gallery .about-nav.next {
    right: .5rem;
}

/* thumbnails strip */
.about-thumbs-wrap {
    grid-area:       thumbs;
    display:         inline-flex;
    align-items:     center;
    justify-content: center;
    gap:             .25rem;
    margin-top:      2rem;
    margin-bottom:   .5rem;
    width:           100%;
}

.about-thumbs-wrap button.thumbs-prev:hover,
.about-thumbs-wrap button.thumbs-next:hover {
    background: rgba(255, 255, 255, .25);
    transform:  scale(1.0625);
}

.about-thumbs-wrap > button {
    width:         2rem;
    height:        2rem;
    border-radius: 999px;
    display:       grid;
    place-items:   center;
    background:    rgba(0, 0, 0, .35);
    color:         #FFF;
    border:        1px solid rgba(255, 255, 255, .2);
    cursor:        pointer;
    transition:    background .125s ease, transform .125s ease;
}

.about-thumbs {
    display:           grid;
    grid-auto-flow:    column;
    grid-auto-columns: clamp(4rem, 12vmin, 6rem);
    gap:               1.25rem;
    list-style:        none;
    padding:           0;
    margin:            0 1rem;
    width:             fit-content;
}

.about-thumbs li {
    position: relative;
}

.about-thumbs button {
    width:         100%;
    aspect-ratio:  1 / 1;
    border-radius: .75rem;
    overflow:      hidden;
    display:       block;
    border:        1px solid rgba(255, 255, 255, .12);
    background:    #0B0B0B;
    padding:       0;
    cursor:        pointer;
    transition:    transform .125s ease,
                   box-shadow .125s ease,
                   border-color .125s ease;
}

.about-thumbs img {
    width:      100%;
    height:     100%;
    object-fit: cover;
    display:    block;
}

.about-thumbs li[aria-selected="true"] button {
    transform:    scale(1.0625);
    border-color: var(--accent, #FA0);
    box-shadow:   0 0 0 2px rgba(250, 160, 0, .35),
                  0 0 24px rgba(250, 160, 0, .22);
}

.about-thumbs li:not([aria-selected="true"]) button:hover {
    transform: scale(1.0625);
}

/* mobile */
@media (max-width: 640px) {
    .about {
        padding: min(calc(var(--vh) * 16), 8rem) 16px;
    }

    .about-stage {
        aspect-ratio: 4 / 5;
        height:       min(calc(var(--vh) * 48), 80vw);
    }

    .about-thumbs {
        grid-auto-columns: 24vw;
        gap:               .5rem;
    }

    .about-caption .about-quote {
        font-size: .92rem;
    }
}

#parallax-section-3 .about-caption {
    display: none !important;
}

.about-quote-wrap {
    position:        relative;
    width:           80vw;
    margin-inline:   auto;
    border:          1px solid var(--card-border);
    border-top:      0;
    border-radius:   0 0 1rem 1rem;
    overflow:        visible;
    /*margin-bottom:   calc(var(--vh) * 24);*/
    backdrop-filter: saturate(1.125) blur(8px);
    box-shadow:      var(--card-shadow, 0 1rem 2rem rgba(0, 0, 0, 0.48));
}

.about-quote-wrap::before,
.about-quote-wrap::after {
    content:        "";
    position:       absolute;
    top:            0;
    bottom:         0;
    width:          1px;
    pointer-events: none;
    background:     linear-gradient(180deg, transparent 0%, var(--card-border) 100%);
}

.about-quote-wrap::before {
    left: 0;
}

.about-quote-wrap::after {
    right: 0;
}

.about-fade-bridge {
    width:      100%;
    /*height:     clamp(96px, 8vh, 128px);*/
    /*height:     clamp(96px, calc(var(--q-clear) * var(--q-bridge-frac)), 40vh);*/
    height:     calc(var(--q-clear) * .56);
    background: linear-gradient(
                        180deg,
                        rgba(8, 8, 8, .60) 0%,
                        rgba(8, 8, 8, .48) 32%,
                        rgba(8, 8, 8, .24) 64%,
                        rgba(8, 8, 8, 0) 100%
                );
    /*background: linear-gradient(*/
    /*                    180deg,*/
    /*                    rgba(8, 8, 8, .56) 0%,*/
    /*                    rgba(8, 8, 8, .48) 16%,*/
    /*                    rgba(8, 8, 8, .36) 32%,*/
    /*                    rgba(8, 8, 8, .20) 48%,*/
    /*                    rgba(8, 8, 8, .12) 64%,*/
    /*                    rgba(8, 8, 8, .04) 80%,*/
    /*                    rgba(8, 8, 8, 0) 100%*/
    /*            );*/

}

.about-quotes {
    width: 100%;
    border-radius: 0 0 1rem 1rem;
}

.about-quote-rotator {
    display:        flex;
    flex-direction: column;
    align-items:    center;
    gap:            .5rem;
    /*padding-top:    min(calc(var(--q-clear) * var(--q-rot-frac)), 20vh);*/
    /*padding-bottom: clamp(1rem, 3vmin, 2.5rem);*/
    /*min-height:     calc(var(--q-clear) * (.56) + 5rem);*/

    padding-top:    calc(var(--q-clear) * .48 + max(0px, calc(var(--q-rise) * -1)));
    padding-bottom: clamp(1rem, calc(var(--vh) * 3), 2.5rem);
    min-height:     calc(var(--q-clear) + 6rem);

    overflow: visible;
    border-radius: 0 0 1rem 1rem;
    border:         0;
    box-shadow:     none;
    background:     linear-gradient(
                            180deg,
                            rgba(8, 8, 8, 0) 0%,
                            rgba(8, 8, 8, .08) 16%,
                            rgba(8, 8, 8, .12) 32%,
                            rgba(8, 8, 8, .24) 48%,
                            rgba(8, 8, 8, .48) 64%,
                            rgba(8, 8, 8, .72) 80%,
                            rgba(8, 8, 8, 1) 100%
                    );

    /*padding-block:  clamp(1rem, 1vh, 2rem);*/
    /*min-height:     clamp(64px, calc(4vh + 2rem), 128px);*/
}

/*.about-fade-bridge {
    width:           80vw;
    max-width:       none;
    height:          clamp(96px, 8vh, 128px);
    margin-inline:   auto;
    background:      linear-gradient(
                             180deg,
                             rgba(8, 8, 8, 0.56) 0%,
                             rgba(8, 8, 8, 0.48) 16%,
                             rgba(8, 8, 8, 0.36) 32%,
                             rgba(8, 8, 8, 0.20) 48%,
                             rgba(8, 8, 8, 0.12) 64%,
                             rgba(8, 8, 8, 0.04) 80%,
                             rgba(8, 8, 8, 0.0) 100%
                     );
    flex:            0 0 auto;
    backdrop-filter: saturate(1.125) blur(4px);
}

#parallax-section-3 .about-quotes {
    margin-inline: auto;
    width:         80vw;
    max-width:     none;
    display:       block;
}

#parallax-section-3 .about-quote-rotator {
    position:                relative; !* anchor ::before/::after *!
    overflow:                hidden; !* keep blur/gradients inside radius *!
    display:                 flex;
    flex-direction:          column;
    align-items:             center;
    gap:                     .5rem;
    padding-block:           clamp(1.5rem, 6vh, 4rem);
    background:              linear-gradient(
                                     180deg,
                                     rgba(8, 8, 8, 0.00) 0%,
                                     rgba(8, 8, 8, 0.04) 16%,
                                     rgba(8, 8, 8, 0.12) 32%,
                                     rgba(8, 8, 8, 0.24) 48%,
                                     rgba(8, 8, 8, 0.48) 64%,
                                     rgbA(8, 8, 8, 0.64) 80%,
                                     rgba(8, 8, 8, 1) 100%
                             );
    border:                  1px solid var(--card-border);
    !*border-top-color:        transparent;*!
    border-top:              none;
    border-bottom:           1pt solid #FFF;
    border-radius:           0 0 1rem 1rem;
    backdrop-filter:         saturate(1.125) blur(4px);
    -webkit-backdrop-filter: saturate(1.125) blur(4px);
    box-shadow:              var(--card-shadow, 0 1rem 2rem rgba(0, 0, 0, .45));
}

#parallax-section-3 .about-quote-rotator::before,
#parallax-section-3 .about-quote-rotator::after {
    content:        "";
    position:       absolute;
    top:            0;
    bottom:         0;
    width:          1px;
    pointer-events: none;
    background:     linear-gradient(180deg, transparent 0%, var(--card-border) 100%);
}

#parallax-section-3 .about-quote-rotator::before {
    left: 0;
}

#parallax-section-3 .about-quote-rotator::after {
    right: 0;
}*/

#parallax-section-3 .about-quote-rotator .quote-text {
    margin:      0;
    line-height: 1.25;
    font-size:   clamp(2rem, 4vmin, 3rem);
    /*text-shadow: 0 4px 8px rgba(0, 0, 0, .45);*/
    opacity:     0;
    transition:  opacity .25s ease;
    font-family: "Caveat", cursive;
}

#parallax-section-3 .about-quote-rotator .quote-text,
#parallax-section-3 .about-quote-rotator .quote-source {
    position:    relative;
    transform:   translateY(var(--q-rise));
    text-shadow: 0 0 1rem rgba(8, 8, 8, 1.0),
                 0 0 1.5rem rgba(8, 8, 8, 0.8),
                 0 0 2rem rgba(8, 8, 8, 0.64),
                 0 0 3rem rgba(8, 8, 8, 0.48);
}

#parallax-section-3 .about-quote-rotator .quote-text.is-visible {
    opacity: 1;
}

.about-quote-rotator .quote-source {
    margin:         .25rem 0 0;
    font-family:    "Exo 2", sans-serif;
    font-size:      clamp(1.25rem, 1.5vmin, 1.5rem);
    line-height:    1.25;
    opacity:        0;
    transition:     opacity .25s ease;
    letter-spacing: .01rem;
    color:          #E9E9E9;
}

.about-quote-rotator .quote-source.is-visible {
    opacity: .92;
}


/*#parallax-section-3 .parallax-content {
    max-width:      none;
    width:          100%;
    min-width:      0;
    !*padding-inline: 0;*!
    display:        flex;
    flex-direction: column;
    align-items:    center;
    text-align:     center;
}*/

/* prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
    .about-thumbs li[aria-selected="true"] button {
        transform: none;
    }
}

/* In overlay mode, drop the caption row entirely */
#about-carousel.quote-overlay {
    grid-template-areas: "stage" "thumbs";
}


