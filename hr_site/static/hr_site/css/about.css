/* ===========================
   About section layout
   =========================== */

#parallax-section-about {
    display:        flex;
    flex-direction: column;
    align-items:    center;
}

.about {
    width:          100%;
    max-width:      none;
    margin-inline:  auto;
    padding-inline: 0;
    box-sizing:     border-box;
}

/* Glassy “card” for intro + carousel */
.about-card {
    --card-bg:           rgba(8, 8, 8, .55);
    --card-border:       rgba(255, 255, 255, .12);
    --card-shadow:       0 16px 32px rgba(0, 0, 0, .45);

    width:               80vw;
    max-width:           none;
    margin-inline:       auto;
    margin-top:          2rem;

    background:          linear-gradient(180deg, rgba(20, 20, 20, .55), var(--card-bg));
    outline:             none;
    border:              1px solid var(--card-border);
    border-bottom-color: transparent;
    border-radius:       16px 16px 0 0;

    backdrop-filter:     saturate(1.25) blur(8px);

    display:             flex;
    flex-direction:      column;
    align-items:         center;
    text-align:          center;
}

.about-card,
.about-card p,
.about-card .about-quote {
    color:       #F5F5F5;
    text-shadow: 0 2px 2px rgba(0, 0, 0, .45);
    text-align:  center;
}

/* Intro text above carousel */
#parallax-section-about .about-intro {
    margin:        0;
    text-align:    center;
    max-width:     72rem;
    margin-inline: auto;
}

#parallax-section-about .about-intro p {
    max-width:      min(72ch, 92%);
    margin:         1.5rem auto 3rem;
    font-size:      clamp(1.5rem, 2.5vmin, 2rem);
    line-height:    1.5;
    opacity:        .92;
    position:       relative;
    padding-bottom: 0;
    font-family:    "Syne Mono", monospace;
    font-weight:    300;
    letter-spacing: 0.01em;
}

/* Divider line under intro paragraph */
#parallax-section-about .about-intro p::after {
    content:    "";
    position:   absolute;
    left:       50%;
    transform:  translate(-50%, 1.25rem);
    bottom:     0;
    width:      min(72rem, 92%);
    height:     1px;
    background: linear-gradient(
                    90deg,
                    transparent,
                    rgba(255, 255, 255, .22),
                    rgba(255, 255, 255, .32),
                    rgba(255, 255, 255, .22),
                    transparent
                );
    box-shadow: 0 2px 0 rgba(0, 0, 0, .45);
    opacity:    .92;
}

#parallax-section-about .about-gallery {
    margin-top: 0;
}


/* ===========================
   Carousel gallery
   =========================== */

.about-gallery {
    width:               80vw;
    max-width:           80vw;
    margin-inline:       auto;

    display:             grid;
    gap:                 0.5rem;
    justify-items:       center;
    grid-template-areas:
        "stage"
        "caption"
        "thumbs";
}

/* Large stage image */
.about-stage {
    grid-area:    stage;
    position:     relative;
    aspect-ratio: 16 / 9;
    overflow:     hidden;
    box-shadow:   8px 8px 24px rgba(0, 0, 0, .35);
    background:   #0B0B0B;
    width:        80vw;
    height:       auto;
}

.about-stage-img {
    width:      100%;
    height:     100%;
    object-fit: cover;
    display:    block;
    transform:  translateZ(0);
    box-shadow: inset 0 0 4vmin 3vmin rgba(0, 0, 0, 0.5);
}

/* Caption row (normally hidden in this section; quote overlay is used) */
.about-caption {
    width:           100%;
    grid-area:       caption;
    min-height:      clamp(2rem, 6vh, 4rem);

    display:         inline-flex;
    align-items:     center;
    justify-content: center;
    gap:             .5rem;
    margin-top:      .5rem;
    place-items:     center;
}

.about-caption .about-quote {
    margin:      0;
    max-width:   64ch;
    font-family: "Exo 2", sans-serif;
    text-align:  center;
    font-size:   clamp(1rem, 1.5vmin, 1.5rem);
    opacity:     .92;
}

/* Optional overlay mode if #about-carousel gets .quote-overlay */
#about-carousel.quote-overlay {
    position: relative;
}

#about-carousel.quote-overlay .about-caption {
    position:        absolute;
    inset:           0;
    min-height:      0;
    pointer-events:  none;

    display:         flex;
    align-items:     flex-end;
    justify-content: center;
    padding:         clamp(.5rem, 2vmin, 1rem);
    background:      none;
}

#about-carousel.quote-overlay .about-quote {
    width:         80vw;
    padding:       .5rem 0;
    border-radius: .75rem;
    font-size:     clamp(1rem, 1.5vmin, 1.5rem);
    text-align:    left;
    background:    linear-gradient(
                        180deg,
                        rgba(0, 0, 0, .05),
                        rgba(0, 0, 0, .55) 48%,
                        rgba(0, 0, 0, .80)
                   );
    outline:       1px solid rgba(255, 255, 255, .18);
    box-shadow:    0 16px 32px rgba(0, 0, 0, .45);
}

/* In the actual about section, we hide the caption row entirely */
#parallax-section-about .about-caption {
    display: none !important;
}

/* arrows on stage */
.about-gallery figure.about-stage button.about-nav {
    position:      absolute;
    top:           50%;
    transform:     translateY(-50%);
    width:         3rem;
    height:        3rem;

    border-radius: 999px;
    border:        1px solid rgba(255, 255, 255, .25);
    background:    rgba(0, 0, 0, .45);
    color:         #FFF;

    font-size:     1.5rem;
    line-height:   0;
    display:       grid;
    place-items:   center;

    cursor:        pointer;
    transition:    background .125s ease, transform .125s ease;
    z-index:       2;
}

.about-gallery figure.about-stage button.about-nav:hover {
    background: rgba(255, 255, 255, .25);
    transform:  translateY(-50%) scale(1.0625);
}

.about-gallery .about-nav.prev {
    left: .5rem;
}

.about-gallery .about-nav.next {
    right: .5rem;
}


/* ===========================
   Thumbnails strip
   =========================== */

.about-thumbs-wrap {
    grid-area:       thumbs;
    display:         inline-flex;
    align-items:     center;
    justify-content: center;
    gap:             .25rem;
    margin-top:      2rem;
    margin-bottom:   .5rem;
    width:           100%;
}

.about-thumbs-wrap button.thumbs-prev:hover,
.about-thumbs-wrap button.thumbs-next:hover {
    background: rgba(255, 255, 255, .25);
    transform:  scale(1.0625);
}

.about-thumbs-wrap > button {
    width:         2rem;
    height:        2rem;
    border-radius: 999px;
    display:       grid;
    place-items:   center;
    background:    rgba(0, 0, 0, .35);
    color:         #FFF;
    border:        1px solid rgba(255, 255, 255, .2);
    cursor:        pointer;
    transition:    background .125s ease, transform .125s ease;
}

/* scrolling thumbnails list */
.about-thumbs {
    display:           grid;
    grid-auto-flow:    column;
    grid-auto-columns: clamp(4rem, 12vmin, 6rem);
    gap:               1.25rem;
    list-style:        none;
    padding:           0;
    margin:            0 1rem;
    width:             fit-content;
}

.about-thumbs li {
    position: relative;
}

.about-thumbs button {
    width:         100%;
    aspect-ratio:  1 / 1;
    border-radius: .75rem;
    overflow:      hidden;
    display:       block;
    border:        1px solid rgba(255, 255, 255, .12);
    background:    #0B0B0B;
    padding:       0;
    cursor:        pointer;
    transition:
        transform .125s ease,
        box-shadow .125s ease,
        border-color .125s ease;
}

.about-thumbs img {
    width:      100%;
    height:     100%;
    object-fit: cover;
    display:    block;
}

/* selected thumb */
.about-thumbs li[aria-selected="true"] button {
    transform:    scale(1.0625);
    border-color: var(--accent, #FA0);
    box-shadow:
        0 0 0 2px rgba(250, 160, 0, .35),
        0 0 24px rgba(250, 160, 0, .22);
}

/* hover highlight for unselected thumbs */
.about-thumbs li:not([aria-selected="true"]) button:hover {
    transform: scale(1.0625);
}


/* ===========================
   About quotes block
   =========================== */

.about-quote-wrap {
    position:        relative;
    width:           80vw;
    margin-inline:   auto;
    margin-bottom:   calc(var(--vh) * 18);

    border:          1px solid var(--card-border);
    border-top:      0;
    border-radius:   0 0 1rem 1rem;

    overflow:        visible;
    backdrop-filter: saturate(1.125) blur(8px);
    box-shadow:      var(--card-shadow, 0 1rem 2rem rgba(0, 0, 0, 0.48));
}

/* vertical edge accents */
.about-quote-wrap::before,
.about-quote-wrap::after {
    content:        "";
    position:       absolute;
    top:            0;
    bottom:         0;
    width:          1px;
    pointer-events: none;
    background:     linear-gradient(180deg, transparent 0%, var(--card-border) 100%);
}

.about-quote-wrap::before {
    left: 0;
}

.about-quote-wrap::after {
    right: 0;
}

/* gradient bridge above quotes */
.about-fade-bridge {
    width:      100%;
    height:     calc(var(--q-clear) * .56);
    background: linear-gradient(
                    180deg,
                    rgba(8, 8, 8, .60) 0%,
                    rgba(8, 8, 8, .48) 32%,
                    rgba(8, 8, 8, .24) 64%,
                    rgba(8, 8, 8, 0) 100%
               );
}

/* wrapper around rotator */
.about-quotes {
    width:         100%;
    border-radius: 0 0 1rem 1rem;
}

/* Rotating quote text & source */
.about-quote-rotator {
    display:        flex;
    flex-direction: column;
    align-items:    center;
    gap:            .5rem;

    padding-top:    calc(var(--q-clear) * .48 + max(0px, calc(var(--q-rise) * -1)));
    padding-bottom: clamp(1rem, calc(var(--vh) * 3), 2.5rem);
    min-height:     calc(var(--q-clear) + 3rem);

    overflow:       visible;
    border-radius:  0 0 1rem 1rem;
    border:         0;

    background:     linear-gradient(
                        180deg,
                        rgba(8, 8, 8, 0) 0%,
                        rgba(8, 8, 8, .08) 16%,
                        rgba(8, 8, 8, .16) 32%,
                        rgba(8, 8, 8, .24) 48%,
                        rgba(8, 8, 8, .48) 64%,
                        rgba(8, 8, 8, .72) 80%,
                        rgba(8, 8, 8, .96) 100%
                    );
}

/* main quote text */
#parallax-section-about .about-quote-rotator .quote-text {
    margin:      0;
    line-height: 1.25;
    font-size:   clamp(2rem, 4vmin, 3rem);
    font-family: "Caveat", cursive;

    opacity:     0;
    transition:  opacity .25s ease;
}

/* quote + source share vertical lift + glow */
#parallax-section-about .about-quote-rotator .quote-text,
#parallax-section-about .about-quote-rotator .quote-source {
    position:    relative;
    transform:   translateY(var(--q-rise));
    text-shadow:
        0 0 1rem rgba(8, 8, 8, 1.0),
        0 0 1.5rem rgba(8, 8, 8, 0.8),
        0 0 2rem rgba(8, 8, 8, 0.64),
        0 0 3rem rgba(8, 8, 8, 0.48);
}

/* visible state toggled by JS */
#parallax-section-about .about-quote-rotator .quote-text.is-visible {
    opacity: 1;
}

/* quote source line */
.about-quote-rotator .quote-source {
    margin:         .25rem 0 0;
    font-family:    "Syne Mono", monospace;
    font-size:      clamp(1.25rem, 1.5vmin, 1.5rem);
    line-height:    1.25;
    letter-spacing: .01rem;
    color:          #E9E9E9;
    opacity:        0;
    transition:     opacity .25s ease;
}

.about-quote-rotator .quote-source.is-visible {
    opacity: .92;
}


/* ===========================
   Mobile tweaks
   =========================== */

@media (max-width: 640px) {
    .about {
        padding: min(calc(var(--vh) * 16), 8rem) 16px;
    }

    .about-stage {
        aspect-ratio: 4 / 5;
        height:       min(calc(var(--vh) * 48), 80vw);
    }

    .about-thumbs {
        grid-auto-columns: 24vw;
        gap:               .5rem;
    }

    .about-caption .about-quote {
        font-size: .92rem;
    }
}


/* ===========================
   Reduced motion
   =========================== */

@media (prefers-reduced-motion: reduce) {
    .about-thumbs li[aria-selected="true"] button {
        transform: none;
    }
}

/* When using overlay mode, drop the caption row area entirely */
#about-carousel.quote-overlay {
    grid-template-areas:
        "stage"
        "thumbs";
}
