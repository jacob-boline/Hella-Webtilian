/* ===========================
   Parallax layout + behavior
   =========================== */

/* Overall wrapper for all parallax sections */
#parallax-wrapper {
  position: relative;
  align-items: center;
  text-align: center;
}

/* Individual parallax sections */
.parallax-section {
  position: relative;

  overflow: hidden;

  height: auto;
  min-height: calc(var(--vh) * 100);
  padding: 0;
}

/* Background layer that scrolls at different speed */
.parallax-background {
  will-change: transform;

  position: absolute;
  top: 0;
  left: 0;
  transform: translate3d(0, 0, 0);

  width: 100%;
  min-height: calc(var(--vh) * 100);

  background-position: center;
  background-size: cover;
}

/* Ensure text in parallax content stays on top + readable */
div.parallax-content p {
  position: relative !important;
  z-index: 10 !important;
  color: #fff !important;
}

/* Section wipes – gradient / image overlays between sections */
.section-wipe {
  pointer-events: none;
  will-change: transform;

  position: absolute;
  z-index: 20;
  left: 0;
  inset-inline: 0;
  transform: translate3d(0, 0, 0);

  width: 100%;
  min-width: 100%;
  max-width: 100%;
  height: calc(var(--vh) * 60);

  background-position: center;
  background-size: cover;
}

/* Prefer viewport-based heights if supported */
@supports (height: 1vh) {
  .parallax-background {
    min-height: calc(var(--vh) * 100);
  }

  .section-wipe {
    height: calc(var(--vh) * 60);
  }
}

/* ===========================
   Section background images
   =========================== */

#section-wipe-0.section-wipe {
  background-image: url("/media/wipes/bryan-goff-we1ky8_ZTHg-unsplash.jpg");
}

/* Shows section */
#parallax-section-shows .parallax-background {
  background-image: url("/media/backgrounds/parallax_bg_1-0.jpg");
}

/* Wipe between shows → merch */
#section-wipe-1.section-wipe {
  background-image: url("/media/wipes/sci_fi_fork_in_road.jpg");
}

/* Merch section */
#parallax-section-merch .parallax-background {
  background-image: url("/media/backgrounds/parallax_bg_2-7.png");
}

/* Wipe between merch → about */
#section-wipe-2.section-wipe {
  background-image: url("/media/wipes/vimal-s-1F-dLqrnn-E-unsplash.jpg");
}

/* About section */
#parallax-section-about .parallax-background {
  background-image: url("/media/backgrounds/parallax_bg_3-0.png");
}

/* Wipe between about → bulletin */
#section-wipe-3.section-wipe {
  background-image: url("/media/wipes/old_english_tree_rows.jpg");
}

/* Bulletin section (was posts before – using your current ID) */
#parallax-section-bulletin .parallax-background {
  background-image: url("/media/backgrounds/parallax_bg_4-3.png");
}

/* ===========================
   Reduced motion fallback
   =========================== */

@media (prefers-reduced-motion: reduce) {
  .parallax-background,
  .section-wipe {
    transform: none !important;
    transition: none !important;
    animation: none !important;
  }
}
