{# hr_about/templates/hr_about/_about_carousel.html #}

{% load static responsive_images %}

<section id="about-carousel" class="about-gallery" aria-label="Band Photos" tabindex="0">
    <figure class="about-stage">
        {% if slides %}
            {% with first=slides.0 %}
                <img class="about-stage-img"
                     src="{{ first.image.url|about_img_url:960 }}"
                     srcset="{{ first.image.url|about_img_srcset }}"
                     sizes="(max-width: 640px) 88vw, (max-width: 1024px) 92vw, (max-width: 1600px) 80vw, 1800px"
                     width="1920"
                     height="1080"
                     alt="{{ first.title }}"
                     loading="lazy"
                     decoding="async">
            {% endwith %}
        {% else %}
            <img class="about-stage-img" width="1920" height="1080" src="" alt="No images available">
        {% endif %}
    </figure>

    <div class="about-thumbs-wrap">
        <button class="thumbs-prev" type="button" aria-label="Previous image">
            <i data-feather="chevron-left"></i>
        </button>

        <ul class="about-thumbs">
            {% for slide in slides %}
                <li data-index="{{ forloop.counter0 }}">
                    <button type="button"
                            class="about-thumb{% if forloop.first %} is-active{% endif %}"
                            data-src="{{ slide.image.url }}"
                            data-alt="{{ slide.title }}"
                            data-index="{{ forloop.counter0 }}">
                        <img src="{{ slide.image.url }}" alt="{{ slide.title }}" width="78" height="78">
                    </button>
                </li>
            {% endfor %}
        </ul>

        <button class="thumbs-next" type="button" aria-label="Next image">
            <i data-feather="chevron-right"></i>
        </button>
    </div>
</section>
