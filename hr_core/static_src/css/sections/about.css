/* hr_core/static_src/css/sections/about.css */
/* ===========================
   About section layout
   =========================== */

#parallax-section-about {
    display:        flex;
    flex-direction: column;
    align-items:    center;
}

.about {
    width:          100%;
    max-width:      72rem;
    margin-top:     2rem;
    margin-inline:  auto;
    padding-inline: 0;
}

/* Glassy “card” for intro + carousel */
.about-card {
    --card-bg:           rgba(8, 8, 8, 0.55);
    --card-border:       var(--white-alpha-15);
    --card-shadow:       0 16px 32px var(--black-alpha-45);

    display:             flex;
    flex-direction:      column;
    align-items:         center;
    width:               100%;
    max-width:           100%;
    margin-top:          48px;
    margin-inline:       auto;
    border:              1px solid var(--card-border);
    border-bottom-color: transparent;
    border-radius:       16px 16px 0 0;
    text-align:          center;
    background:          linear-gradient(180deg, rgba(20, 20, 20, 0.55), var(--card-bg));
    outline:             none;
}

.about-card,
.about-card p,
.about-card .about-quote {
    color:       var(--text);
    text-align:  center;
    text-shadow: 0 2px 2px var(--black-alpha-45);
}

/* Intro text above carousel */
#parallax-section-about .about-intro {
    max-width:     72rem;
    margin:        0;
    margin-inline: auto;
    text-align:    center;
}

#parallax-section-about .about-intro p {
    position:       relative;
    max-width:      min(72ch, 92%);
    margin:         1.5rem auto 3rem;
    padding-bottom: 0;
    font-family:    "Syne Mono", monospace;
    font-size:      clamp(1rem, 1.75vmin, 1.5rem);
    font-weight:    300;
    line-height:    1.5;
    letter-spacing: 0.01em;
    opacity:        0.92;
}

/* Divider line under intro paragraph */
#parallax-section-about .about-intro p::after {
    content:    "";
    position:   absolute;
    bottom:     0;
    left:       50%;
    transform:  translate(-50%, 1.25rem);
    width:      min(72rem, 92%);
    height:     1px;
    opacity:    0.92;
    background: linear-gradient(
                        90deg,
                        transparent,
                        var(--white-alpha-15),
                        var(--white-alpha-30),
                        var(--white-alpha-15),
                        transparent
                );
    box-shadow: 0 2px 0 var(--black-alpha-45);
}


/* ===========================
   Carousel gallery
   =========================== */

.about-gallery {
    display:       grid;
    grid-template-areas:
        "stage"
        "caption"
        "thumbs";
    gap:           0.5rem;
    justify-items: stretch;
    width:         100%;
    max-width:     100%;
    margin-inline: auto;
}

/* Large stage image */
.about-stage {
    /*--stage-glow:        rgba(120, 255, 255, 0.22);*/
    /*--stage-glow-strong: rgba(120, 255, 255, 0.35);*/
    position:            relative;
    overflow:            hidden;
    grid-area:           stage;
    aspect-ratio:        3 / 2;
    width:               clamp(24rem, 88vw, 64rem);
    max-width:           100%;
    height:              auto;
    background:          #0B0B0B;
    box-shadow:          8px 8px 24px var(--black-alpha-30);
    /*border-radius:       1rem;*/
    justify-self:        center;
}

/*.about-stage::before {*/
/*    content:        "";*/
/*    position:       absolute;*/
/*    inset:          -28%;*/
/*    z-index:        0;*/
/*    background:     radial-gradient(*/
/*                            ellipse at 50% 100%,*/
/*                            var(--stage-glow-strong),*/
/*                            var(--black-alpha-0) 62%*/
/*                    );*/
/*    filter:         blur(29px);*/
/*    opacity:        0.85;*/
/*    pointer-events: none;*/
/*}*/

.about-stage::after {
    content:        "";
    position:       absolute;
    inset:          0;
    z-index:        2;
    border-radius:  inherit;
    background:     radial-gradient(
                            ellipse at center,
                            var(--black-alpha-0) 56%,
                            var(--black-alpha-45) 100%
                    );
    pointer-events: none;
}

.about-stage-img {
    transform:     translateZ(0);
    display:       block;
    width:         100%;
    height:        100%;
    object-fit:    cover;
    border-radius: 0;
    z-index:       1;
    position:      relative;
}

/* Caption row (normally hidden in this section; quote overlay is used) */
.about-caption {
    display:         inline-flex;
    grid-area:       caption;
    gap:             0.5rem;
    place-items:     center;
    align-items:     center;
    justify-content: center;
    width:           100%;
    min-height:      clamp(2rem, 6vh, 4rem);
    margin-top:      0.5rem;
}

.about-caption .about-quote {
    max-width:   64ch;
    margin:      0;
    font-family: "Exo 2", sans-serif;
    font-size:   clamp(1rem, 1.5vmin, 1.5rem);
    text-align:  center;
    opacity:     0.92;
}

/* Optional overlay mode if #about-carousel gets .quote-overlay */
#about-carousel.quote-overlay {
    position: relative;
    grid-template-areas:
        "stage"
        "thumbs";
}

#about-carousel.quote-overlay .about-quote {
    width:         100%;
    max-width:     100%;
    padding:       0.5rem 0;
    border-radius: 0.75rem;
    font-size:     clamp(1rem, 1.5vmin, 1.5rem);
    text-align:    left;
    background:    linear-gradient(
                           180deg,
                           var(--black-alpha-15),
                           var(--black-alpha-60) 48%,
                           var(--black-alpha-75)
                   );
    outline:       1px solid var(--white-alpha-15);
    box-shadow:    0 16px 32px var(--black-alpha-45);
}

/* arrows on stage */
.about-gallery figure.about-stage button.about-nav {
    cursor:        pointer;
    position:      absolute;
    z-index:       2;
    top:           50%;
    transform:     translateY(-50%);
    display:       grid;
    place-items:   center;
    width:         3rem;
    height:        3rem;
    border:        1px solid var(--white-alpha-30);
    border-radius: 100vmax;
    font-size:     1.5rem;
    line-height:   0;
    color:         var(--text);
    background:    var(--black-alpha-45);
    transition:    background .2s ease,
                   transform  .2s ease;
}

.about-gallery figure.about-stage button.about-nav:hover {
    transform:  translateY(-50%) scale(1.0625);
    background: var(--white-alpha-30);
}

.about-gallery .about-nav.prev {
    left: .5rem;
}

.about-gallery .about-nav.next {
    right: .5rem;
}


/* ===========================
   Thumbnails strip
   =========================== */

.about-thumbs-wrap {
    display:         inline-flex;
    grid-area:       thumbs;
    gap:            .25rem;
    align-items:     center;
    justify-content: center;
    width:           100%;
    margin-top:      1rem;
    margin-bottom:  .5rem;
}

.about-thumbs-wrap button.thumbs-prev:hover,
.about-thumbs-wrap button.thumbs-next:hover {
    transform:  scale(1.0625);
    background: var(--white-alpha-30);
}

.about-thumbs-wrap > button {
    cursor:        pointer;
    display:       grid;
    place-items:   center;
    width:         2rem;
    height:        2rem;
    border:        1px solid var(--white-alpha-15);
    border-radius: 100vmax;
    color:         white;
    background:    var(--black-alpha-30);
    transition:    background .2s ease,
                   transform  .2s ease;
}

.about-thumbs {
    display:         flex;
    justify-content: center;
    gap:             0.75rem;
    width:           auto;
    max-width:       none;
    flex:            0 0 auto;
    margin:          0 1rem;
    padding:         0;
    list-style:      none;
}

.about-thumbs li {
    display: none;
}

.about-thumbs li.is-visible {
    display: block;
}

.about-thumbs button {
    cursor:          pointer;
    overflow:        hidden;
    display:         block;
    aspect-ratio:    1 / 1;
    height:          80px;
    width:           100%;
    padding:         0;
    border:          1px solid var(--white-alpha-15);
    border-radius:  .75rem;
    background-size: cover;
    background:      #0B0B0B no-repeat center;
    transition:      transform    .2s ease,
                     box-shadow   .2s ease,
                     border-color .2s ease;
}

.about-thumbs button img {
    width:           100%;
    height:          100%;
    object-fit:      cover;
    object-position: center;
}

/* selected thumb */
.about-thumbs button.about-thumb.is-active {
    transform:      scale(1.0625);
    box-shadow:     0 0 0 2px rgba(120, 255, 255, 0.25),
                    0 0  24px rgba(120, 255, 255, 0.18);
    outline:        2px solid var(--text);
    outline-offset: 2px;
}

/* hover highlight for unselected thumbs */
.about-thumbs button.about-thumb:not(.is-active):hover {
    transform: scale(1.0625);
}


/* ===========================
   About quotes block
   =========================== */

.about-quote-wrap {
    position:        relative;
    overflow:        visible;
    max-height:      clamp(9rem, 24vh, 14rem);
    width:           100%;
    max-width:       100%;
    margin-bottom:   calc(var(--vh) * 18);
    margin-inline:   auto;
    border:          1px solid var(--card-border, var(--white-alpha-15));
    border-top:      0;
    border-radius:   0 0 1rem 1rem;
    backdrop-filter: saturate(1.125) blur(8px);
    box-shadow:      var(--card-shadow, 0 1rem 2rem var(--black-alpha-45));
}

/* vertical edge accents */
.about-quote-wrap::before,
.about-quote-wrap::after {
    pointer-events: none;
    content:        "";
    position:       absolute;
    top:            0;
    bottom:         0;
    width:          0;
    background:     linear-gradient(
                            180deg,
                            transparent 0%,
                            var(--card-border, var(--white-alpha-15)) 100%
                    );
}

.about-quote-wrap::before {
    left: 0;
}

.about-quote-wrap::after {
    right: 0;
}

/* gradient bridge above quotes */
.about-fade-bridge {
    width:      100%;
    height:     calc(var(--q-clear) * 0.56);
    background: linear-gradient(
                        180deg,
                        rgba(8, 8, 8, 0.6)   0%,
                        rgba(8, 8, 8, 0.48) 32%,
                        rgba(8, 8, 8, 0.24) 64%,
                        rgba(8, 8, 8, 0)   100%
                );
}

/* wrapper around rotator */
.about-quotes {
    width:         100%;
    border-radius: 0 0 1rem 1rem;
}

/* Rotating quote text & source */
.about-quote-rotator {
    overflow:       visible;
    display:        flex;
    flex-direction: column;
    gap:           .5rem;
    align-items:    center;
    min-height:     calc(var(--q-clear) + 3rem);
    padding-top:    calc(var(--q-clear) * 0.48 + max(0px, calc(var(--q-rise) * -1)));
    padding-bottom: clamp(1rem, calc(var(--vh) * 3), 2.5rem);
    border:         0;
    border-radius:  0 0 1rem 1rem;
    background:     linear-gradient(
                            180deg,
                            rgba(8, 8, 8, 0)      0%,
                            rgba(8, 8, 8, 0.08)  16%,
                            rgba(8, 8, 8, 0.16)  32%,
                            rgba(8, 8, 8, 0.24)  48%,
                            rgba(8, 8, 8, 0.48)  64%,
                            rgba(8, 8, 8, 0.72)  80%,
                            rgba(8, 8, 8, 0.96) 100%
                    );
}

/* main quote text */
#parallax-section-about .about-quote-rotator .quote-text {
    margin:        0;
    padding-right: 2rem;
    padding-left:  2rem;
    font-family:   "Caveat", cursive;
    font-size:     clamp(1.5rem, 3vmin, 2.25rem);
    line-height:   1.25;
    opacity:       1;
    transition:    opacity .2s ease;
}

/* quote source line */
.about-quote-rotator .quote-source {
    margin:         0;
    font-family:    "Syne Mono", monospace;
    font-size:      clamp(1.25rem, 1.5vmin, 1.5rem);
    line-height:    1.25;
    color:          var(--text);
    letter-spacing: 0.01rem;
    opacity:        0.92;
    transition:     opacity .2s ease;
}

/* quote + source share vertical lift + glow */
#parallax-section-about .about-quote-rotator .quote-text,
#parallax-section-about .about-quote-rotator .quote-source {
    position:    relative;
    transform:   translateY(var(--q-rise));
    text-shadow: 0 0 1rem   rgba(8, 8, 8, 1),
                 0 0 1.5rem rgba(8, 8, 8, 0.8),
                 0 0 2rem   rgba(8, 8, 8, 0.64),
                 0 0 3rem   rgba(8, 8, 8, 0.48);
}

/* visible state toggled by JS */
#parallax-section-about .about-quote-rotator .quote-text.is-visible {
    opacity: 1;
}

.about-quote-rotator .quote-source.is-visible {
    opacity: 0.92;
}


/* ===========================
   Mobile tweaks
   =========================== */

@media (max-width: 640px) {
    .about {
        padding: min(calc(var(--vh) * 16), 8rem) 16px;
    }

    .about-gallery {
        width:     100%;
        max-width: 100%;
    }

    .about-stage {
        /*aspect-ratio: 4 / 5;*/
        /*height:       min(calc(var(--vh) * 48), 80vw);*/
        height: auto;
        max-height:   none;
    }

    .about-thumbs {
        grid-auto-columns: 24vw;
        gap:               .5rem;
    }

    .about-caption .about-quote {
        font-size: 0.92rem;
    }
}

@media (max-height: 900px) {
    .about-quote-rotator .quote-text {
        font-size: clamp(1.3rem, 2.6vmin, 2rem);
    }

    .about-quote-rotator .quote-source {
        font-size: clamp(1rem, 1.6vmin, 1.2rem);
    }
}


/* ===========================
   Reduced motion
   =========================== */

@media (prefers-reduced-motion: reduce) {
    .about-thumbs li[aria-selected="true"] button {
        transform: none;
    }
}
