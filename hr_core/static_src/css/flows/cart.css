/* hr_core/static_src/css/flows/cart.css */

/* ===========================
   Cart modal container
   =========================== */

.view-cart-modal {
    text-align: left;
}


/* ===========================
   Cart line item row
   =========================== */

.cart-summary-card {
    display:               grid;
    grid-template-columns: 142px minmax(0, 1.6fr) auto auto auto;
    grid-template-areas: "thumb main qty subtotal remove";
    column-gap:            1rem;
    row-gap:               0.5rem;
    align-items:           center;
    padding:               1rem 0;
    border-bottom:         1px solid var(--white-alpha-15);
}

.cart-remove-btn {
    grid-area: remove;
}

.cart-summary-card:last-of-type {
    border-bottom: none;
}

.item-thumbnail {
    grid-area:     thumb;
    width:         128px;
    height:        128px;
    border-radius: 24px;
    object-fit:    cover;
    box-shadow:    0 0 10px var(--neon-cyan-alpha-30);
}

.item-title {
    font-weight:   600;
    margin:        0;
    white-space:   nowrap;
    overflow:      hidden;
    text-overflow: ellipsis;
    color:         var(--neon-blue);
}

.item-main {
    grid-area:      main;
    display:        flex;
    flex-direction: column;
    gap:            0.15rem;
}

.item-unit-price {
    margin:    0;
    font-size: 0.9rem;
    opacity:   0.8;
}

.item-quantity {
    grid-area:   qty;
    display:     flex;
    align-items: center;
    gap:         0.4rem;
    font-size:   1rem;
}

.item-quantity label {
    opacity: 0.8;
    width:   3rem;
}

.item-quantity input[type="number"] {
    width: 64px;
}

.item-subtotal-wrapper {
    grid-area:       subtotal;
    display:         flex;
    flex-direction:  row;
    align-items:     flex-end;
    justify-content: center;
    gap:             0.4rem;
}

.item-subtotal {
    margin:      0;
    font-weight: 600;
    white-space: nowrap;
    align-self:  center;
    color:       var(--accent);
}

.cart-remove-btn {
    padding:       .3rem;
    border-radius: 100vmax;
    border:        1px solid var(--red-alpha-75);
    background:    transparent;
    color:         #FF8A8A;
    font-size:     .75rem;
    cursor:        pointer;
    transition:    .2s ease;
    grid-area:     remove;
}

.cart-remove-btn:hover {
    background-color: var(--red-alpha-15);
    color:            var(--text);
    box-shadow:       0 0 10px var(--red-alpha-45);
}

.view-cart-modal.checkout-details-modal.m-shell {
    gap:         0;
    padding-top: 0;
}

section.m-body:has(.review-section) {
    gap: 0.25rem;
}

.modal-summary-row.cart-summary {
    display:        flex;
    flex-direction: column;
    gap:            1.25rem;
    margin-top:     2rem;
    padding-top:    1rem;
    border-top:     1px solid var(--white-alpha-15);
}

.modal-summary-row.cart-summary .checkout-btn {
    align-self:   center;
    justify-self: center;
    width:        clamp(200px, 40%, 300px);
    margin-left:  auto;
    margin-right: auto;
}

.cart-summary .modal-summary-block {
    display:               grid;
    grid-template-columns: 1fr auto;
    align-items:           baseline;
    gap:                   0.75rem;
    width:                 100%;
    padding:               0 1rem;
}

.cart-summary .modal-summary-label {
    text-align: left;
    opacity:    0.8;
}

.modal-summary-block .modal-summary-amount {
    text-align:   right;
    justify-self: end;
    font-size:    0.75rem;
    font-weight:  600;
    color:        var(--text);
    margin:       0 0 0 auto;
    white-space:  nowrap;
}

#modal:has(.view-cart-modal) .modal-panel {
    max-height: 90 svh;
    overflow:   hidden;
}

.view-cart-modal.m-shell {
    height:     100%;
    min-height: 0;
}

.view-cart-modal .m-body {
    min-height: 0;
    overflow:   auto;
}


/* ===========================
   Responsive adjustments
   =========================== */

@container modal (max-width: 600px) {
    .view-cart-modal {
        padding: 1.25rem 1rem 0;
    }

    .cart-summary-card {
        grid-template-columns: 64px minmax(0, 1fr) auto 44px;
        grid-template-areas:
            "thumb title   price   remove"
            "thumb qty     subtotal remove";
        row-gap:               0.5rem;
        column-gap:            0.75rem;
        align-items:           center;
        font-size:             0.75rem;
    }

    .item-thumbnail {
        width:  64px;
        height: 64px;
    }

    .item-main {
        grid-area: unset;
        display:   contents;
    }

    .item-title {
        grid-area:     title;
        font-size:     0.85rem;
        white-space:   nowrap;
        overflow:      hidden;
        text-overflow: ellipsis;
        margin:        0;
    }

    .item-unit-price {
        grid-area:    price;
        justify-self: end;
        text-align:   right;
        font-size:    0.8rem;
        margin:       0;
        white-space:  nowrap;
        opacity:      0.8;
    }

    .item-quantity {
        grid-area:    qty;
        justify-self: start;
        gap:          0;
        display:      block;
        font-size:    0.75rem;
    }

    .item-subtotal-wrapper {
        grid-area: unset;
        display:   contents;
    }

    .item-subtotal {
        grid-area:    subtotal;
        justify-self: end;
        text-align:   right;
        white-space:  nowrap;
        margin:       0;
    }

    .cart-remove-btn {
        grid-area:       remove;
        justify-self:    center;
        align-self:      center;
        margin-left:     0;
        width:           36px;
        height:          36px;
        padding:         0;
        border-radius:   999px;
        display:         inline-flex;
        align-items:     center;
        justify-content: center;
        font-size:       1rem;
        line-height:     1;
    }

    .cart-remove-btn i {
        pointer-events: none;
    }

    .modal-summary-row.cart-summary {
        grid-template-columns: 1fr;
        gap:                   0.75rem;
        margin-top:            0.85rem;
    }

    .modal-summary-row.cart-summary .modal-summary-block {
        grid-column:           auto;
        justify-self:          stretch;
        display:               grid;
        grid-template-columns: 1fr auto;
        align-items:           baseline;
        gap:                   0.75rem;
        margin-bottom:         1.35rem;
    }

    .modal-summary-row.cart-summary .modal-summary-label {
        text-align: left;
        opacity:    0.7;
    }

    .modal-summary-row.cart-summary .checkout-btn {
        grid-column:  auto;
        justify-self: stretch;
        width:        100%;
    }
}
