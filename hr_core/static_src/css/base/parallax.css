/* hr_core/static_src/css/base/parallax.css */
/* ===========================
   Parallax layout + behavior
   =========================== */

#parallax-wrapper {
    position:    relative;
    align-items: center;
    text-align:  center;
}

.parallax-section {
    position:   relative;
    overflow:   hidden;
    height:     auto;
    min-height: calc(var(--vh) * 100);
    padding:    0;
}

.parallax-background {
    will-change:         transform;
    position:            absolute;
    top:                 0;
    left:                0;
    transform:           translate3d(0, 0, 0);
    width:               100%;
    min-height:          calc(var(--vh) * 100);
    background-position: center;
    background-size:     cover;
}

div.parallax-content p {
    position: relative !important;
    z-index:  10 !important;
    color:    var(--text) !important;
}

/* Section wipes – gradient / image overlays between sections */
.section-wipe {
    pointer-events:      none;
    will-change:         transform;
    position:            absolute;
    z-index:             20;
    inset-inline:        0;
    transform:           translate3d(0, 0, 0);
    width:               100%;
    min-width:           100%;
    max-width:           100%;
    height:              calc(var(--vh) * 60);
    background-position: center;
    background-size:     cover;
}

/* Prefer viewport-based heights if supported */
@supports (height: 1vh) {
    .parallax-background {
        min-height: calc(var(--vh) * 100);
    }

    .section-wipe {
        height: calc(var(--vh) * 60);
    }
}

/* ===========================
   Section background images
   =========================== */
#section-wipe-0.section-wipe {
  background-image: url("/media/wipes/solar_eclipse_build_black.jpg");
}

/* noinspection CssInvalidFunction,CssUnknownTarget */
/*@supports (background-image: image-set(url("x.webp") type("image/webp") 1x)) {*/
/*  #section-wipe-0.section-wipe {*/
/*    background-image: image-set(*/
/*      url("/media/wipes/opt_webp/solar_eclipse_build_black-960w.webp")  type("image/webp")   1x,*/
/*      url("/media/wipes/opt_webp/solar_eclipse_build_black-1440w.webp") type("image/webp") 1.5x,*/
/*      url("/media/wipes/opt_webp/solar_eclipse_build_black-1920w.webp") type("image/webp")   2x,*/
/*      url("/media/wipes/opt_webp/solar_eclipse_build_black-2560w.webp") type("image/webp")   3x*/
/*    );*/
/*  }*/
/*}*/

/* Shows section */
#parallax-section-shows .parallax-background {
  background-image: url("/media/backgrounds/parallax_bg_1-0.jpg");
}

/* noinspection CssInvalidFunction,CssUnknownTarget */
/*@supports (background-image: image-set(url("x.webp") type("image/webp") 1x)) {*/
/*  #parallax-section-shows .parallax-background {*/
/*    background-image: image-set(*/
/*      url("/media/backgrounds/bg_opt/parallax_bg_1-0-960w.webp")  type("image/webp") 1x,*/
/*      url("/media/backgrounds/bg_opt/parallax_bg_1-0-1920w.webp") type("image/webp") 2x*/
/*    );*/
/*  }*/
/*}*/

/* Wipe between shows → merchModule */
#section-wipe-1.section-wipe {
  background-image: url("/media/wipes/sci_fi_fork_in_road.jpg");
}

/* noinspection CssInvalidFunction,CssUnknownTarget */
/*@supports (background-image: image-set(url("x.webp") type("image/webp") 1x)) {*/
/*  #section-wipe-1.section-wipe {*/
/*    background-image: image-set(*/
/*      url("/media/wipes/opt_webp/sci_fi_fork_in_road-960w.webp")  type("image/webp")   1x,*/
/*      url("/media/wipes/opt_webp/sci_fi_fork_in_road-1440w.webp") type("image/webp") 1.5x,*/
/*      url("/media/wipes/opt_webp/sci_fi_fork_in_road-1920w.webp") type("image/webp")   2x,*/
/*      url("/media/wipes/opt_webp/sci_fi_fork_in_road-2560w.webp") type("image/webp")   3x*/
/*    );*/
/*  }*/
/*}*/

/* Merch section */
#parallax-section-merch .parallax-background {
  background-image: url("/media/backgrounds/parallax_bg_2-7.png");
}

/* noinspection CssInvalidFunction,CssUnknownTarget */
/*@supports (background-image: image-set(url("x.webp") type("image/webp") 1x)) {*/
/*  #parallax-section-merch .parallax-background {*/
/*    background-image: image-set(*/
/*      url("/media/backgrounds/bg_opt/parallax_bg_2-7-960w.webp")  type("image/webp") 1x,*/
/*      url("/media/backgrounds/bg_opt/parallax_bg_2-7-1920w.webp") type("image/webp") 2x*/
/*    );*/
/*  }*/
/*}*/

/* Wipe between merchModule → about */
#section-wipe-2.section-wipe {
  background-image: url("/media/wipes/blue_black_pillars.jpg");
}

/* noinspection CssInvalidFunction,CssUnknownTarget */
/*@supports (background-image: image-set(url("x.webp") type("image/webp") 1x)) {*/
/*  #section-wipe-2.section-wipe {*/
/*    background-image: image-set(*/
/*      url("/media/wipes/opt_webp/blue_black_pillars-960w.webp")  type("image/webp")   1x,*/
/*      url("/media/wipes/opt_webp/blue_black_pillars-1440w.webp") type("image/webp") 1.5x,*/
/*      url("/media/wipes/opt_webp/blue_black_pillars-1920w.webp") type("image/webp")   2x,*/
/*      url("/media/wipes/opt_webp/blue_black_pillars-2560w.webp") type("image/webp")   3x*/
/*    );*/
/*  }*/
/*}*/

/* About section */
#parallax-section-about .parallax-background {
  background-image: url("/media/backgrounds/parallax_bg_3-0.png");
}

/* noinspection CssInvalidFunction,CssUnknownTarget */
/*@supports (background-image: image-set(url("x.webp") type("image/webp") 1x)) {*/
/*  #parallax-section-about .parallax-background {*/
/*    background-image: image-set(*/
/*      url("/media/backgrounds/bg_opt/parallax_bg_3-0-960w.webp")  type("image/webp") 1x,*/
/*      url("/media/backgrounds/bg_opt/parallax_bg_3-0-1920w.webp") type("image/webp") 2x*/
/*    );*/
/*  }*/
/*}*/

/* Wipe between about → bulletin */
#section-wipe-3.section-wipe {
  background-image: url("/media/wipes/old_english_tree_rows.jpg");
}

/* noinspection CssInvalidFunction,CssUnknownTarget */
/*@supports (background-image: image-set(url("x.webp") type("image/webp") 1x)) {*/
/*  #section-wipe-3.section-wipe {*/
/*    background-image: image-set(*/
/*      url("/media/wipes/opt_webp/old_english_tree_rows-960w.webp")  type("image/webp")   1x,*/
/*      url("/media/wipes/opt_webp/old_english_tree_rows-1440w.webp") type("image/webp") 1.5x,*/
/*      url("/media/wipes/opt_webp/old_english_tree_rows-1920w.webp") type("image/webp")   2x,*/
/*      url("/media/wipes/opt_webp/old_english_tree_rows-2560w.webp") type("image/webp")   3x*/
/*    );*/
/*  }*/
/*}*/

/* Bulletin section */
#parallax-section-bulletin .parallax-background {
  background-image: url("/media/backgrounds/parallax_bg_4-3.png");
}

/* noinspection CssInvalidFunction,CssUnknownTarget */
/*@supports (background-image: image-set(url("x.webp") type("image/webp") 1x)) {*/
/*  #parallax-section-bulletin .parallax-background {*/
/*    background-image: image-set(*/
/*      url("/media/backgrounds/bg_opt/parallax_bg_4-3-960w.webp")  type("image/webp") 1x,*/
/*      url("/media/backgrounds/bg_opt/parallax_bg_4-3-1920w.webp") type("image/webp") 2x*/
/*    );*/
/*  }*/
/*}*/

/* ===========================
   Reduced motion fallback
   =========================== */

@media (prefers-reduced-motion: reduce) {
    .parallax-background,
    .section-wipe {
        transform:  none !important;
        transition: none !important;
        animation:  none !important;
    }
}
