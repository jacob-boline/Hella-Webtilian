/* hr_core/static_src/css/components/drawer.css */


/* ===========================
   Sidebar access container
   =========================== */

#sidebar-access {
    width:          100%;
    max-width:      500px;
    box-sizing:     border-box;
    display:        flex;
    flex-direction: column;
    align-items:    center;
    gap:            1.25rem;
    padding-inline: 0.25rem;
    flex:           0 0 auto;
    min-height:     auto;
    overflow:       visible;
    overflow-wrap:  anywhere;
    word-break:     break-word;
    margin:         0 auto;
    padding-top:    0;
}

#sidebar-access h2 {
    margin-bottom: 1rem;
}

#sidebar-access > * {
    width:     100%;
    max-width: 32rem;
}

#login-form .field-group {
    margin-bottom: 1rem;
}


/* ===========================
   Drawer navigation panel
   =========================== */
/*#drawer-navigation.show { outline-color: lime; }*/
/*html:not(.js-ready) #drawer-navigation {*/
/*    transition: none !important;*/
/*}*/


#drawer-navigation {
    position:                   fixed;
    z-index:                    50;
    top:                        0;
    left:                       0;
    transform:                  translateX(-100%);
    display:                    flex;
    flex-direction:             column;
    align-items:                stretch;
    justify-content:            flex-start;
    box-sizing:                 border-box;
    width:                      100vw;
    height:                     calc(var(--vh) * 100);
    min-height:                 0;
    padding:                    1.5rem;
    border-right:               1pt solid var(--white-alpha-75);
    color:                      var(--text);
    background-color:           rgba(7, 21, 29, 0.9);
    overflow:                   hidden auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior:        contain;
    transition:                 transform .2s ease-in-out;
}


#drawer-navigation.prehide {
    visibility: visible !important;
}

/*html.js-ready #drawer-navigation {*/
/*    transition: transform .2s ease-in-out;*/
/*}*/

@media (max-width: 991.98px) {
    #drawer-navigation form {
        max-width: 100%;
    }
}

@media (min-width: 992px) {
    #drawer-navigation {
        width: clamp(372px, 20vw, 496px);
    }
}

@media (min-width: 1280px) {
    #drawer-navigation {
        width:     18vw;
        min-width: 400px;
        max-width: 600px;
    }
}

#drawer-navigation.show {
    transform: translateX(0);
}

#drawer-navigation iframe {
    width:            100%;
    max-width:        360px;
    align-self:       center;
    margin-inline:    auto;
    flex:             0 0 auto;
    height:           480px;
    border:           0;
    border-radius:    12px;
    box-shadow:       0 0 18px var(--black-alpha-45),
                      0 0 12px var(--white-alpha-30);
    display:          block;
    margin:           2vh auto 0;
    background-color: #303030;
}

/* ===========================
   Drawer / open-button controls
   =========================== */

#open-nav-btn-container.prehide {
    visibility: visible !important;
}

.user-panel hr {
    margin-top:     0.5rem;
    margin-bottom:  0.25rem;
    width:          100%;
    border-color:   var(--faint-text);
}

.user-panel {
    width:          100%;
    max-width:      32rem;
    display:        flex;
    flex-direction: column;
    align-items:    center;
    gap:            0.25rem;
}

.sidebar-btn {
    position:        relative;
    font-size:       1rem;
    border:          none;
    background:      transparent;
    color:           var(--text);
    margin:          0.5rem auto;
    transition:      color .2s ease-in-out;
    width:           100%;
    max-width:       24rem;
    display:         flex;
    align-items:     center;
    justify-content: center;
    gap:             0.75rem;
    text-align:      center;
}

.sidebar-btn:hover,
.sidebar-btn:focus {
    background: transparent;
    border:     none;
    outline:    none;
}

.sidebar-btn:hover {
    color: aquamarine;
}

.sidebar-menu-item {
    font-size:       1.15rem;
    font-weight:     700;
    line-height:     1.1;
    text-align:      center;
    font-family:     "Megrim", cursive;
    letter-spacing:  0.08em;
    color:           var(--glow);
    text-shadow:     0 0 0.5rem var(--gold);
    transition:      color       .2s ease,
                     text-shadow .2s ease,
                     transform   .2s ease;
    position:        relative;
    border:          none;
    outline:         none;
    background:      transparent;
    margin:          0 auto;
    width:           100%;
    max-width:       24rem;
    display:         flex;
    align-items:     center;
    justify-content: center;
    cursor:          pointer;
}

.sidebar-menu-item:hover {
    color:       var(--text);
    text-shadow: 0 0 0.35rem var(--white-alpha-90),
                 0 0 0.75rem var(--white-alpha-60),
                 0 0 1.25rem rgba(255, 165, 0, 0.6);
}

.sidebar-menu-item:focus {
    outline: none;
}

.sidebar-menu-item:focus-visible {
    color:       var(--text);
    text-shadow: 0 0 0.35rem var(--white-alpha-90),
                 0 0 0.85rem var(--white-alpha-60),
                 0 0 1.35rem rgba(255, 165, 0, 0.65);
    transform:   scale(1.03);
}

.sidebar-menu-item:focus:not(:focus-visible) {
    transform: none;
}

.sidebar-menu-item:active {
    background: transparent;
    border:     none;
}

/* ===========================
   Drawer close/open buttons
   =========================== */

#nav-close-btn {
    flex:             0 0 auto;
    border:           none;
    font-size:        1.45rem;
    color:            var(--text);
    background:       transparent;
    transition:       background-color .2s ease,
                      color            .2s ease,
                      opacity           1s ease-in;
    border-radius:    100vmax;
    padding:          0.5rem;
    margin-left:     -0.5rem;
    margin-bottom:    0;
    align-self:       flex-start;
    position:         sticky;
    top:              calc((var(--vh) * 7) - 2px - 1.5rem);
    z-index:          2;
}

/* The magic 2px above and below account for top/bottom borders of the floating cart btn in order to mirror its height */

#nav-open-btn {
    /*noinspection CssInvalidPropertyValue*/
    top:             calc(7svh - 2px);
    opacity:         0;
    margin-left:     24px;
    background:      var(--black-alpha-30);
    border:          1px solid var(--white-alpha-15);
    box-shadow:      0 0 18px var(--neon-cyan-alpha-15);
    backdrop-filter: blur(10px);
    border-radius:   100vmax;
    cursor:          pointer;
    color:           var(--text);
    padding:         0.5rem;
    font-size:       1.45rem;
    transition:      background  .2s ease,
                     transform   .2s ease,
                     opacity      1s ease;
}

/*noinspection CssInvalidPropertyValue*/
@supports not (height: 100svh) {
    #nav-open-btn {
        top: calc(7vh - 2px);
    }
}

#nav-open-btn:hover,
#nav-close-btn:hover {
    color:            aquamarine;
    background-color: rgba(128, 128, 128, 0.3);
    transform:        translateY(-1px);
}

@media (prefers-color-scheme: dark) {
     #drawer-navigation .sidebar-btn:hover {
         color:      var(--gold);
         transition: color .2s ease-in-out;
     }
}


/* ===========================
   Cart button inside drawer
   =========================== */

.card-count-badge {
    background:    var(--neon-blue);
    color:         black;
    border-radius: 12px;
    padding:       2px 6px;
    margin-left:   6px;
    font-weight:   bold;
    min-width:     20px;
    display:       inline-block;
    text-align:    center;
}

/* ===========================
   Form controls (login)
   =========================== */

.form-control input[type="text"],
.form-control input[type="password"] {
    background-color: transparent;
    color:            var(--neon-blue);
    width:            100%;
    height:           100%;
    margin:           0;
}

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus {
    -webkit-text-fill-color: var(--neon-blue) !important;
    caret-color:             var(--neon-blue) !important;
    -webkit-box-shadow:      0 0 0 1000px black inset !important;
    box-shadow:              0 0 0 1000px black inset !important;
    outline:                 none;
    border:                  none;
    transition:              background-color 9999s ease-out 0s;
}

.form-control input[type="text"]::placeholder,
.form-control input[type="password"]::placeholder {
    color:   var(--text);
    opacity: 0.9;
}

.form-control input[type="text"]:focus,
.form-control input[type="password"]:focus {
    color:            var(--neon-blue);
    background-color: transparent;
}

/* could make this conditional by using .form-control:has(.class:focus) */
.form-control:focus-within {
    box-shadow: inset 0 0 0 1px var(--neon-blue),
                      0 0  12px var(--neon-cyan-alpha-60),
                      0 0  14px var(--neon-cyan-alpha-30);
}

.field-group:focus-within label {
    color: var(--neon-blue);
}

form.login-form div.form-control {
    margin: 0.5rem 0;
}

.user-profile-btn {
    padding:       0.5rem 1rem 0;
    margin-bottom: 0;
    width:         100%;
    display:       block;
}

.user-profile-btn:hover,
.user-profile-btn:focus {
    background: transparent;
    border:     none;
    outline:    none;
}

.user-identity {
    display:        flex;
    flex-direction: column;
    align-items:    center;
    gap:            0.25rem;
    width:          100%;
    text-align:     center;
    container-type: inline-size;
    max-width:      42ch;
    margin:         0 auto;
}

.user-identity:hover {
    cursor: pointer;
}

.user-username,
.user-email {
    font-family:   "Exo 2", sans-serif;
    color:         var(--text);
    transition:    color       .2s ease,
                   text-shadow .2s ease,
                   transform   .2s ease;
    display:       block;
    width:         100%;
    max-width:     100%;
    min-width:     0;
    white-space:   nowrap;
    overflow:      hidden;
    text-overflow: ellipsis;
}

.user-username {
    font-size:      clamp(1rem, 6cqw, 1.5rem);
    font-weight:    700;
    letter-spacing: clamp(0.06em, 0.35cqw, 0.18em);
    text-transform: uppercase;
    text-shadow:    0 0 0.35rem var(--white-alpha-60),
                    0 0 0.75rem var(--white-alpha-45),
                    0 0 1.5rem  var(--dark-gray-alpha-30);
    line-height:    1.1;
}

.user-email {
    font-size:      clamp(0.85rem, 4.5cqw, 1.1rem);
    font-weight:    500;
    letter-spacing: clamp(0.03em, 0.25cqw, 0.10em);
    text-shadow:    0 0 0.4rem var(--white-alpha-30);
    line-height:    1.2;
}

.user-identity:hover .user-username,
.user-identity:hover .user-email {
    color:       var(--text);
    text-shadow: 0 0 0.35rem var(--white-alpha-90),
                 0 0 0.85rem var(--white-alpha-60),
                 0 0 1.35rem var(--dark-gray-alpha-45);
}


/* ===========================
   Misc
   =========================== */

article button {
    width: 100%;
}
